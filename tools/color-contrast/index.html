<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒ‰ìƒ ëŒ€ë¹„ ì²´ì»¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }

        .color-pickers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .color-section {
            text-align: center;
        }

        .color-label {
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1rem;
        }

        .color-input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        input[type="color"] {
            width: 120px;
            height: 120px;
            border: 4px solid #e0e0e0;
            border-radius: 16px;
            cursor: pointer;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            text-align: center;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .preview-section {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .preview-box {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 150px;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .preview-text {
            font-size: 2rem;
            font-weight: bold;
        }

        .results {
            background: white;
            border-radius: 12px;
            padding: 25px;
        }

        .contrast-ratio {
            text-align: center;
            margin-bottom: 30px;
        }

        .ratio-value {
            font-size: 3rem;
            font-weight: bold;
            color: #667eea;
        }

        .ratio-label {
            color: #666;
            margin-top: 10px;
        }

        .wcag-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .wcag-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .wcag-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1rem;
        }

        .wcag-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 10px;
            background: white;
            border-radius: 8px;
        }

        .wcag-level {
            font-weight: 600;
            color: #666;
        }

        .wcag-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .pass {
            background: #d1fae5;
            color: #065f46;
        }

        .fail {
            background: #fee;
            color: #c33;
        }

        .info-box {
            background: #e0e7ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .info-box p {
            margin: 5px 0;
            color: #333;
            font-size: 0.95rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .color-pickers {
                grid-template-columns: 1fr;
            }

            .wcag-results {
                grid-template-columns: 1fr;
            }

            .preview-text {
                font-size: 1.5rem;
            }

            .ratio-value {
                font-size: 2rem;
            }
        }

        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            }

            .container {
                background: #2a2a3e;
                color: #e0e0e0;
            }

            .subtitle {
                color: #a0a0a0;
            }

            .color-label {
                color: #e0e0e0;
            }

            input[type="text"] {
                background: #1a1a2e;
                color: #e0e0e0;
                border-color: #444;
            }

            .preview-section {
                background: #1a1a2e;
            }

            .results {
                background: #1a1a2e;
            }

            .wcag-card {
                background: #2a2a3e;
                border: 1px solid #444;
            }

            .wcag-title {
                color: #e0e0e0;
            }

            .wcag-item {
                background: #1a1a2e;
            }

            .wcag-level {
                color: #a0a0a0;
            }

            .info-box {
                background: #2a2a4e;
                border-left-color: #667eea;
            }

            .info-box p {
                color: #e0e0e0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>â™¿ ìƒ‰ìƒ ëŒ€ë¹„ ì²´ì»¤</h1>
        <p class="subtitle">WCAG ì ‘ê·¼ì„± ê¸°ì¤€ì— ë§ëŠ” ìƒ‰ìƒ ì¡°í•©ì¸ì§€ í™•ì¸í•˜ì„¸ìš”</p>

        <div class="color-pickers">
            <div class="color-section">
                <div class="color-label">ğŸ“ í…ìŠ¤íŠ¸ ìƒ‰ìƒ</div>
                <div class="color-input-group">
                    <input type="color" id="textColor" value="#000000">
                    <input type="text" id="textColorHex" value="#000000" maxlength="7">
                </div>
            </div>
            <div class="color-section">
                <div class="color-label">ğŸ¨ ë°°ê²½ ìƒ‰ìƒ</div>
                <div class="color-input-group">
                    <input type="color" id="bgColor" value="#FFFFFF">
                    <input type="text" id="bgColorHex" value="#FFFFFF" maxlength="7">
                </div>
            </div>
        </div>

        <div class="preview-section">
            <div class="preview-box" id="previewBox">
                <div class="preview-text" id="previewText">Sample Text</div>
            </div>

            <div class="results">
                <div class="contrast-ratio">
                    <div class="ratio-value" id="ratioValue">21:1</div>
                    <div class="ratio-label">ëŒ€ë¹„ìœ¨ (Contrast Ratio)</div>
                </div>

                <div class="wcag-results">
                    <div class="wcag-card">
                        <div class="wcag-title">ì¼ë°˜ í…ìŠ¤íŠ¸</div>
                        <div class="wcag-item">
                            <span class="wcag-level">AA (4.5:1)</span>
                            <span class="wcag-status pass" id="normalAA">í†µê³¼</span>
                        </div>
                        <div class="wcag-item">
                            <span class="wcag-level">AAA (7:1)</span>
                            <span class="wcag-status pass" id="normalAAA">í†µê³¼</span>
                        </div>
                    </div>
                    <div class="wcag-card">
                        <div class="wcag-title">í° í…ìŠ¤íŠ¸ (18pt+)</div>
                        <div class="wcag-item">
                            <span class="wcag-level">AA (3:1)</span>
                            <span class="wcag-status pass" id="largeAA">í†µê³¼</span>
                        </div>
                        <div class="wcag-item">
                            <span class="wcag-level">AAA (4.5:1)</span>
                            <span class="wcag-status pass" id="largeAAA">í†µê³¼</span>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <p><strong>ğŸ’¡ WCAG ê¸°ì¤€ ì•ˆë‚´</strong></p>
                    <p>â€¢ AA: ìµœì†Œ ê¶Œì¥ ìˆ˜ì¤€ (ë²•ì  ìš”êµ¬ì‚¬í•­)</p>
                    <p>â€¢ AAA: í–¥ìƒëœ ì ‘ê·¼ì„± ìˆ˜ì¤€ (ìµœê³  ìˆ˜ì¤€)</p>
                    <p>â€¢ í° í…ìŠ¤íŠ¸: 18pt ì´ìƒ ë˜ëŠ” 14pt êµµê²Œ</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const textColor = document.getElementById('textColor');
        const bgColor = document.getElementById('bgColor');
        const textColorHex = document.getElementById('textColorHex');
        const bgColorHex = document.getElementById('bgColorHex');
        const previewBox = document.getElementById('previewBox');
        const previewText = document.getElementById('previewText');
        const ratioValue = document.getElementById('ratioValue');

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function getLuminance(r, g, b) {
            const [rs, gs, bs] = [r, g, b].map(c => {
                c = c / 255;
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
        }

        function getContrastRatio(color1, color2) {
            const rgb1 = hexToRgb(color1);
            const rgb2 = hexToRgb(color2);
            
            const lum1 = getLuminance(rgb1.r, rgb1.g, rgb1.b);
            const lum2 = getLuminance(rgb2.r, rgb2.g, rgb2.b);
            
            const lighter = Math.max(lum1, lum2);
            const darker = Math.min(lum1, lum2);
            
            return (lighter + 0.05) / (darker + 0.05);
        }

        function updateResults() {
            const tc = textColor.value;
            const bc = bgColor.value;
            
            textColorHex.value = tc.toUpperCase();
            bgColorHex.value = bc.toUpperCase();
            
            previewBox.style.backgroundColor = bc;
            previewText.style.color = tc;
            
            const ratio = getContrastRatio(tc, bc);
            ratioValue.textContent = ratio.toFixed(2) + ':1';
            
            // Normal text AA (4.5:1)
            updateStatus('normalAA', ratio >= 4.5);
            // Normal text AAA (7:1)
            updateStatus('normalAAA', ratio >= 7);
            // Large text AA (3:1)
            updateStatus('largeAA', ratio >= 3);
            // Large text AAA (4.5:1)
            updateStatus('largeAAA', ratio >= 4.5);
        }

        function updateStatus(id, pass) {
            const element = document.getElementById(id);
            element.textContent = pass ? 'âœ“ í†µê³¼' : 'âœ— ì‹¤íŒ¨';
            element.className = 'wcag-status ' + (pass ? 'pass' : 'fail');
        }

        textColor.addEventListener('input', updateResults);
        bgColor.addEventListener('input', updateResults);

        textColorHex.addEventListener('input', (e) => {
            const hex = e.target.value;
            if (/^#[0-9A-F]{6}$/i.test(hex)) {
                textColor.value = hex;
                updateResults();
            }
        });

        bgColorHex.addEventListener('input', (e) => {
            const hex = e.target.value;
            if (/^#[0-9A-F]{6}$/i.test(hex)) {
                bgColor.value = hex;
                updateResults();
            }
        });

        updateResults();
    </script>
</body>
</html>
