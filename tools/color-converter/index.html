<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Converter</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #ffffff; --bg-secondary: #f8f9fa; --bg-tertiary: #e9ecef;
            --text-primary: #212529; --text-secondary: #6c757d;
            --accent: #e11d48; --border: #dee2e6; --shadow: rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-primary: #0f0f23; --bg-secondary: #1a1a2e; --bg-tertiary: #16213e;
            --text-primary: #e4e4e7; --text-secondary: #a1a1aa;
            --border: #27272a; --shadow: rgba(0,0,0,0.5);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: var(--bg-primary); color: var(--text-primary);
            padding: 20px; min-height: 100vh; transition: background 0.3s, color 0.3s;
        }
        .container { max-width: 600px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 24px; }
        h1 { font-size: 1.8rem; color: var(--accent); margin-bottom: 6px; }
        .subtitle { color: var(--text-secondary); font-size: 0.9rem; }
        .theme-toggle {
            position: fixed; top: 20px; right: 20px; width: 44px; height: 44px;
            border-radius: 50%; background: var(--bg-secondary); border: 2px solid var(--border);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem; cursor: pointer; z-index: 1000;
        }
        .preview {
            width: 100%; height: 120px; border-radius: 16px; margin-bottom: 20px;
            border: 2px solid var(--border); transition: background-color 0.2s;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; font-weight: 700;
        }
        .card {
            background: var(--bg-secondary); border-radius: 16px; padding: 20px;
            border: 1px solid var(--border); margin-bottom: 16px;
        }
        .card h2 { font-size: 1rem; color: var(--accent); margin-bottom: 12px; }
        .color-row { display: flex; gap: 8px; align-items: center; margin-bottom: 10px; }
        label { font-size: 0.8rem; color: var(--text-secondary); min-width: 45px; }
        input[type="text"], input[type="number"], input[type="range"] {
            flex: 1; padding: 8px 12px; border: 1px solid var(--border); border-radius: 8px;
            background: var(--bg-primary); color: var(--text-primary); font-size: 0.9rem;
            font-family: 'SF Mono', Monaco, monospace;
        }
        input[type="range"] { padding: 0; cursor: pointer; }
        input[type="number"] { width: 70px; flex: none; text-align: center; }
        input[type="color"] { width: 50px; height: 38px; border: 1px solid var(--border); border-radius: 8px; cursor: pointer; }
        .copy-btn {
            padding: 6px 10px; border-radius: 6px; border: 1px solid var(--border);
            background: var(--bg-tertiary); cursor: pointer; font-size: 0.75rem; color: var(--text-secondary); white-space: nowrap;
        }
        .copy-btn:hover { background: var(--accent); color: white; }
        .slider-group { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
        .slider-group label { min-width: 20px; font-weight: 600; }
        .slider-val { min-width: 35px; text-align: right; font-size: 0.85rem; font-variant-numeric: tabular-nums; }
        @media (max-width: 500px) {
            .color-row { flex-wrap: wrap; }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">üåô</button>
    <div class="container">
        <header>
            <h1>üé® Color Converter</h1>
            <p class="subtitle">HEX ¬∑ RGB ¬∑ HSL ¬∑ CMYK ÏÉâÏÉÅ Î≥ÄÌôò</p>
        </header>

        <div class="preview" id="preview">
            <span id="preview-text">Pick a Color</span>
        </div>

        <div class="card">
            <h2>üî§ ÏûÖÎ†•</h2>
            <div class="color-row">
                <input type="color" id="picker" value="#e11d48" oninput="fromPicker(this.value)">
                <label>HEX</label>
                <input type="text" id="hex-input" value="#e11d48" oninput="fromHex(this.value)">
                <button class="copy-btn" onclick="copyVal('hex-input')">Î≥µÏÇ¨</button>
            </div>
        </div>

        <div class="card">
            <h2>RGB</h2>
            <div class="slider-group">
                <label style="color:#ef4444">R</label>
                <input type="range" id="r-slider" min="0" max="255" value="225" oninput="fromSliders()">
                <span class="slider-val" id="r-val">225</span>
            </div>
            <div class="slider-group">
                <label style="color:#22c55e">G</label>
                <input type="range" id="g-slider" min="0" max="255" value="29" oninput="fromSliders()">
                <span class="slider-val" id="g-val">29</span>
            </div>
            <div class="slider-group">
                <label style="color:#3b82f6">B</label>
                <input type="range" id="b-slider" min="0" max="255" value="72" oninput="fromSliders()">
                <span class="slider-val" id="b-val">72</span>
            </div>
            <div class="color-row" style="margin-top:8px">
                <label>RGB</label>
                <input type="text" id="rgb-output" readonly>
                <button class="copy-btn" onclick="copyVal('rgb-output')">Î≥µÏÇ¨</button>
            </div>
        </div>

        <div class="card">
            <h2>HSL</h2>
            <div class="color-row">
                <label>HSL</label>
                <input type="text" id="hsl-output" readonly>
                <button class="copy-btn" onclick="copyVal('hsl-output')">Î≥µÏÇ¨</button>
            </div>
        </div>

        <div class="card">
            <h2>CMYK</h2>
            <div class="color-row">
                <label>CMYK</label>
                <input type="text" id="cmyk-output" readonly>
                <button class="copy-btn" onclick="copyVal('cmyk-output')">Î≥µÏÇ¨</button>
            </div>
        </div>
    </div>
    <script>
        function initTheme() {
            const s = localStorage.getItem('colconv-theme') || 'light';
            document.documentElement.setAttribute('data-theme', s);
            document.getElementById('theme-btn').textContent = s === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }
        function toggleTheme() {
            const c = document.documentElement.getAttribute('data-theme') || 'light';
            const n = c === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', n);
            localStorage.setItem('colconv-theme', n);
            document.getElementById('theme-btn').textContent = n === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }

        function hexToRgb(hex) {
            hex = hex.replace('#', '');
            if (hex.length === 3) hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
            const r = parseInt(hex.substr(0,2),16), g = parseInt(hex.substr(2,2),16), b = parseInt(hex.substr(4,2),16);
            return isNaN(r) ? null : {r,g,b};
        }

        function rgbToHex(r,g,b) {
            return '#' + [r,g,b].map(v => v.toString(16).padStart(2,'0')).join('');
        }

        function rgbToHsl(r,g,b) {
            r/=255; g/=255; b/=255;
            const max=Math.max(r,g,b), min=Math.min(r,g,b), d=max-min;
            let h=0, s=0, l=(max+min)/2;
            if(d>0) {
                s = l>0.5 ? d/(2-max-min) : d/(max+min);
                if(max===r) h=((g-b)/d+(g<b?6:0))/6;
                else if(max===g) h=((b-r)/d+2)/6;
                else h=((r-g)/d+4)/6;
            }
            return { h: Math.round(h*360), s: Math.round(s*100), l: Math.round(l*100) };
        }

        function rgbToCmyk(r,g,b) {
            if(r===0&&g===0&&b===0) return {c:0,m:0,y:0,k:100};
            const c1=1-r/255, m1=1-g/255, y1=1-b/255;
            const k=Math.min(c1,m1,y1);
            return {
                c: Math.round((c1-k)/(1-k)*100),
                m: Math.round((m1-k)/(1-k)*100),
                y: Math.round((y1-k)/(1-k)*100),
                k: Math.round(k*100)
            };
        }

        function luminance(r,g,b) {
            return (0.299*r + 0.587*g + 0.114*b) / 255;
        }

        function update(r,g,b) {
            const hex = rgbToHex(r,g,b);
            const hsl = rgbToHsl(r,g,b);
            const cmyk = rgbToCmyk(r,g,b);

            document.getElementById('hex-input').value = hex;
            document.getElementById('picker').value = hex;
            document.getElementById('r-slider').value = r;
            document.getElementById('g-slider').value = g;
            document.getElementById('b-slider').value = b;
            document.getElementById('r-val').textContent = r;
            document.getElementById('g-val').textContent = g;
            document.getElementById('b-val').textContent = b;
            document.getElementById('rgb-output').value = `rgb(${r}, ${g}, ${b})`;
            document.getElementById('hsl-output').value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
            document.getElementById('cmyk-output').value = `cmyk(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)`;

            const preview = document.getElementById('preview');
            preview.style.backgroundColor = hex;
            const textEl = document.getElementById('preview-text');
            textEl.style.color = luminance(r,g,b) > 0.5 ? '#000' : '#fff';
            textEl.textContent = hex.toUpperCase();
        }

        function fromPicker(val) { const c = hexToRgb(val); if(c) update(c.r, c.g, c.b); }
        function fromHex(val) { const c = hexToRgb(val); if(c) update(c.r, c.g, c.b); }
        function fromSliders() {
            const r = +document.getElementById('r-slider').value;
            const g = +document.getElementById('g-slider').value;
            const b = +document.getElementById('b-slider').value;
            update(r,g,b);
        }

        function copyVal(id) {
            navigator.clipboard.writeText(document.getElementById(id).value);
        }

        initTheme();
        update(225, 29, 72);
    </script>
</body>
</html>
