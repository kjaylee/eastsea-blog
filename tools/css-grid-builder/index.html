<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CSS Grid Builder â€” ì¸í„°ë™í‹°ë¸Œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ìƒì„±ê¸°</title>
<meta name="description" content="ë“œë˜ê·¸ë¡œ ê·¸ë¦¬ë“œ ì˜ì—­ ì§€ì •, rows/columns/gap ì‹¤ì‹œê°„ ì¡°ì ˆ, CSS ì½”ë“œ ë³µì‚¬, í”„ë¦¬ì…‹ ë ˆì´ì•„ì›ƒ">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#f5f5f7;--bg2:#fff;--bg3:#e9ecef;--tx:#212529;--tx2:#6c757d;--bd:#dee2e6;--ac:#667eea;--ac2:#764ba2;--cell:#e8eaff;--cell-active:#667eea;--cell-text:#fff;--radius:12px;--shadow:0 4px 16px rgba(0,0,0,.08)}
[data-theme="dark"]{--bg:#111;--bg2:#1e1e1e;--bg3:#2a2a2a;--tx:#e5e5e5;--tx2:#999;--bd:#333;--cell:#2a2a3e;--cell-active:#667eea;--cell-text:#fff;--shadow:0 4px 16px rgba(0,0,0,.4)}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans KR',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;padding:16px;transition:background .3s,color .3s}
.container{max-width:1100px;margin:0 auto}
header{text-align:center;padding:24px 0 16px}
h1{font-size:1.8rem;background:linear-gradient(135deg,var(--ac),var(--ac2));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.subtitle{color:var(--tx2);margin-top:4px;font-size:.95rem}
.theme-btn{position:fixed;top:12px;right:12px;width:40px;height:40px;border-radius:50%;border:2px solid var(--bd);background:var(--bg2);cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;z-index:100;box-shadow:var(--shadow)}
.theme-btn:hover{transform:scale(1.1)}
.layout{display:grid;grid-template-columns:280px 1fr;gap:16px;align-items:start}
@media(max-width:800px){.layout{grid-template-columns:1fr}}
.panel{background:var(--bg2);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);border:1px solid var(--bd)}
.panel h2{font-size:1rem;margin-bottom:12px;display:flex;align-items:center;gap:6px}
.ctrl{margin-bottom:14px}
.ctrl label{display:block;font-size:.8rem;font-weight:600;color:var(--tx2);margin-bottom:4px}
.ctrl-row{display:flex;gap:8px;align-items:center}
.ctrl input[type="range"]{flex:1;accent-color:var(--ac)}
.ctrl .val{min-width:32px;text-align:center;font-weight:700;font-size:.85rem}
.ctrl input[type="text"],.ctrl select{width:100%;padding:8px 10px;border:1px solid var(--bd);border-radius:6px;background:var(--bg);color:var(--tx);font-size:.85rem;font-family:monospace}
.btn{padding:8px 14px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:.85rem;transition:all .15s}
.btn-primary{background:var(--ac);color:#fff}.btn-primary:hover{opacity:.9}
.btn-outline{background:transparent;border:2px solid var(--bd);color:var(--tx)}.btn-outline:hover{border-color:var(--ac);color:var(--ac)}
.btn-sm{padding:5px 10px;font-size:.78rem}
.presets{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:14px}
.preset-btn{padding:8px;border:1px solid var(--bd);border-radius:8px;background:var(--bg);color:var(--tx);cursor:pointer;font-size:.78rem;font-weight:600;text-align:center;transition:all .15s}
.preset-btn:hover{border-color:var(--ac);background:var(--cell)}
.grid-canvas{min-height:400px;border-radius:var(--radius);border:2px dashed var(--bd);padding:4px;position:relative}
.grid-display{display:grid;width:100%;min-height:400px;border-radius:8px;overflow:hidden}
.grid-cell{background:var(--cell);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.75rem;color:var(--tx2);cursor:pointer;transition:background .15s;user-select:none;min-height:40px;position:relative}
.grid-cell:hover{opacity:.85}
.grid-cell.active{background:var(--cell-active);color:var(--cell-text);font-weight:700}
.area-colors{--a1:#667eea;--a2:#f59e0b;--a3:#10b981;--a4:#ef4444;--a5:#8b5cf6;--a6:#ec4899;--a7:#06b6d4;--a8:#84cc16}
.code-section{margin-top:16px}
.code-box{position:relative;background:var(--bg3);border-radius:8px;padding:14px;font-family:'Fira Code',monospace;font-size:.8rem;line-height:1.6;white-space:pre-wrap;word-break:break-all;max-height:300px;overflow:auto;color:var(--tx)}
.copy-btn{position:absolute;top:8px;right:8px;padding:4px 10px;border:1px solid var(--bd);border-radius:6px;background:var(--bg2);cursor:pointer;font-size:.75rem;color:var(--tx)}
.copy-btn:hover{border-color:var(--ac)}
.areas-list{margin-top:12px}
.area-item{display:flex;align-items:center;gap:8px;padding:6px 8px;border:1px solid var(--bd);border-radius:8px;margin-bottom:6px;font-size:.8rem;background:var(--bg)}
.area-item .swatch{width:16px;height:16px;border-radius:4px}
.area-item input{flex:1;padding:4px 6px;border:1px solid var(--bd);border-radius:4px;background:var(--bg2);color:var(--tx);font-size:.8rem}
.area-item .del-btn{cursor:pointer;opacity:.5;font-size:1rem}
.area-item .del-btn:hover{opacity:1}
.help{font-size:.78rem;color:var(--tx2);padding:8px;background:var(--bg);border-radius:6px;line-height:1.5;margin-bottom:12px}
</style>
</head>
<body>
<button class="theme-btn" onclick="toggleTheme()">ğŸŒ“</button>
<div class="container">
<header>
<h1>ğŸ“ CSS Grid Builder</h1>
<p class="subtitle">ì¸í„°ë™í‹°ë¸Œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ìƒì„±ê¸° Â· ë“œë˜ê·¸ & í”„ë¦¬ì…‹</p>
</header>

<div class="layout">
<div class="panel" style="position:sticky;top:16px">
<h2>âš™ï¸ ì„¤ì •</h2>

<div class="ctrl">
<label>í”„ë¦¬ì…‹ ë ˆì´ì•„ì›ƒ</label>
<div class="presets" id="presets"></div>
</div>

<div class="ctrl">
<label>Columns: <span id="colVal">3</span></label>
<div class="ctrl-row"><input type="range" id="colRange" min="1" max="12" value="3"><button class="btn btn-sm btn-outline" onclick="resetGrid()">Reset</button></div>
</div>
<div class="ctrl">
<label>Rows: <span id="rowVal">3</span></label>
<div class="ctrl-row"><input type="range" id="rowRange" min="1" max="12" value="3"></div>
</div>
<div class="ctrl">
<label>Gap: <span id="gapVal">8</span>px</label>
<div class="ctrl-row"><input type="range" id="gapRange" min="0" max="40" value="8"></div>
</div>
<div class="ctrl">
<label>Column í¬ê¸°</label>
<input type="text" id="colSizes" value="1fr 1fr 1fr" placeholder="e.g. 200px 1fr 1fr">
</div>
<div class="ctrl">
<label>Row í¬ê¸°</label>
<input type="text" id="rowSizes" value="1fr 1fr 1fr" placeholder="e.g. auto 1fr auto">
</div>

<div class="help">ğŸ’¡ <b>ì‚¬ìš©ë²•:</b> ì…€ì„ í´ë¦­ â†’ ë“œë˜ê·¸ë¡œ ì˜ì—­ì„ ì§€ì •í•˜ì„¸ìš”. ê°™ì€ ìƒ‰ìƒì´ í•˜ë‚˜ì˜ grid-areaê°€ ë©ë‹ˆë‹¤.</div>

<div class="areas-list" id="areasList"></div>

<div style="display:flex;gap:8px;margin-top:8px">
<button class="btn btn-primary" onclick="addArea()">+ ì˜ì—­ ì¶”ê°€</button>
<button class="btn btn-outline" onclick="clearAreas()">ì´ˆê¸°í™”</button>
</div>
</div>

<div>
<div class="panel">
<h2>ğŸ¨ ê·¸ë¦¬ë“œ ë¯¸ë¦¬ë³´ê¸°</h2>
<div class="grid-canvas area-colors">
<div class="grid-display" id="gridDisplay"></div>
</div>
</div>

<div class="panel code-section">
<h2>ğŸ“‹ ìƒì„±ëœ CSS</h2>
<div style="position:relative">
<div class="code-box" id="codeBox"></div>
<button class="copy-btn" onclick="copyCode()">ğŸ“‹ ë³µì‚¬</button>
</div>
<div style="position:relative;margin-top:12px">
<div class="code-box" id="htmlBox"></div>
<button class="copy-btn" onclick="copyHtml()">ğŸ“‹ HTML ë³µì‚¬</button>
</div>
</div>
</div>
</div>
</div>

<script>
const AREA_COLORS=['#667eea','#f59e0b','#10b981','#ef4444','#8b5cf6','#ec4899','#06b6d4','#84cc16','#f97316','#6366f1','#14b8a6','#e11d48'];
const PRESETS=[
{name:'Holy Grail',cols:3,rows:3,colSizes:'200px 1fr 200px',rowSizes:'auto 1fr auto',areas:[{name:'header',cells:[[0,0],[0,1],[0,2]]},{name:'sidebar',cells:[[1,0]]},{name:'main',cells:[[1,1]]},{name:'aside',cells:[[1,2]]},{name:'footer',cells:[[2,0],[2,1],[2,2]]}]},
{name:'Dashboard',cols:4,rows:3,colSizes:'1fr 1fr 1fr 1fr',rowSizes:'auto 1fr 1fr',areas:[{name:'header',cells:[[0,0],[0,1],[0,2],[0,3]]},{name:'stats',cells:[[1,0],[1,1]]},{name:'chart',cells:[[1,2],[1,3],[2,2],[2,3]]},{name:'table',cells:[[2,0],[2,1]]}]},
{name:'Gallery',cols:3,rows:3,colSizes:'1fr 1fr 1fr',rowSizes:'1fr 1fr 1fr',areas:[{name:'big',cells:[[0,0],[0,1],[1,0],[1,1]]},{name:'sm1',cells:[[0,2]]},{name:'sm2',cells:[[1,2]]},{name:'wide',cells:[[2,0],[2,1],[2,2]]}]},
{name:'Blog',cols:3,rows:2,colSizes:'1fr 1fr 300px',rowSizes:'auto 1fr',areas:[{name:'header',cells:[[0,0],[0,1],[0,2]]},{name:'content',cells:[[1,0],[1,1]]},{name:'sidebar',cells:[[1,2]]}]},
{name:'Landing',cols:1,rows:4,colSizes:'1fr',rowSizes:'80px 1fr auto 60px',areas:[{name:'nav',cells:[[0,0]]},{name:'hero',cells:[[1,0]]},{name:'features',cells:[[2,0]]},{name:'footer',cells:[[3,0]]}]},
{name:'Cards 2x2',cols:2,rows:2,colSizes:'1fr 1fr',rowSizes:'1fr 1fr',areas:[{name:'a',cells:[[0,0]]},{name:'b',cells:[[0,1]]},{name:'c',cells:[[1,0]]},{name:'d',cells:[[1,1]]}]}
];

let cols=3,rows=3,gap=8;
let areas=[];
let currentAreaIdx=-1;
let isDragging=false;

const $=id=>document.getElementById(id);

function initPresets(){
const c=$('presets');
PRESETS.forEach((p,i)=>{const b=document.createElement('button');b.className='preset-btn';b.textContent=p.name;b.onclick=()=>applyPreset(i);c.appendChild(b)});
}

function applyPreset(idx){
const p=PRESETS[idx];
cols=p.cols;rows=p.rows;gap=8;
$('colRange').value=cols;$('rowRange').value=rows;$('gapRange').value=gap;
$('colVal').textContent=cols;$('rowVal').textContent=rows;$('gapVal').textContent=gap;
$('colSizes').value=p.colSizes;$('rowSizes').value=p.rowSizes;
areas=p.areas.map((a,i)=>({name:a.name,color:AREA_COLORS[i%AREA_COLORS.length],cells:new Set(a.cells.map(c=>c[0]+','+c[1]))}));
currentAreaIdx=areas.length-1;
render();
}

function addArea(){
const idx=areas.length;
areas.push({name:'area'+(idx+1),color:AREA_COLORS[idx%AREA_COLORS.length],cells:new Set()});
currentAreaIdx=idx;
render();
}

function clearAreas(){areas=[];currentAreaIdx=-1;render()}

function resetGrid(){
cols=3;rows=3;gap=8;
$('colRange').value=3;$('rowRange').value=3;$('gapRange').value=8;
$('colVal').textContent=3;$('rowVal').textContent=3;$('gapVal').textContent=8;
$('colSizes').value='1fr 1fr 1fr';$('rowSizes').value='1fr 1fr 1fr';
areas=[];currentAreaIdx=-1;render();
}

function cellKey(r,c){return r+','+c}
function findAreaAt(r,c){const k=cellKey(r,c);return areas.findIndex(a=>a.cells.has(k))}

function render(){
renderGrid();renderAreas();generateCode();
}

function renderGrid(){
const g=$('gridDisplay');
const colS=$('colSizes').value||Array(cols).fill('1fr').join(' ');
const rowS=$('rowSizes').value||Array(rows).fill('1fr').join(' ');
g.style.gridTemplateColumns=colS;
g.style.gridTemplateRows=rowS;
g.style.gap=gap+'px';
g.innerHTML='';
for(let r=0;r<rows;r++){
for(let c=0;c<cols;c++){
const cell=document.createElement('div');
cell.className='grid-cell';
cell.dataset.row=r;cell.dataset.col=c;
const ai=findAreaAt(r,c);
if(ai>=0){
cell.classList.add('active');
cell.style.background=areas[ai].color;
cell.textContent=areas[ai].name;
cell.style.color='#fff';
cell.style.fontWeight='700';
}else{
cell.textContent=`${r+1},${c+1}`;
}
cell.addEventListener('mousedown',e=>{onCellDown(r,c,e)});
cell.addEventListener('mouseenter',e=>{onCellEnter(r,c,e)});
cell.addEventListener('touchstart',e=>{e.preventDefault();onCellDown(r,c,e)},{passive:false});
g.appendChild(cell);
}
}
}

function onCellDown(r,c){
if(currentAreaIdx<0){addArea()}
isDragging=true;
const k=cellKey(r,c);
const existing=findAreaAt(r,c);
if(existing>=0&&existing!==currentAreaIdx){areas[existing].cells.delete(k)}
areas[currentAreaIdx].cells.add(k);
render();
}

function onCellEnter(r,c){
if(!isDragging||currentAreaIdx<0)return;
const k=cellKey(r,c);
const existing=findAreaAt(r,c);
if(existing>=0&&existing!==currentAreaIdx){areas[existing].cells.delete(k)}
areas[currentAreaIdx].cells.add(k);
render();
}

document.addEventListener('mouseup',()=>{isDragging=false});
document.addEventListener('touchend',()=>{isDragging=false});

function renderAreas(){
const c=$('areasList');c.innerHTML='';
areas.forEach((a,i)=>{
const d=document.createElement('div');
d.className='area-item';
if(i===currentAreaIdx)d.style.borderColor='var(--ac)';
d.innerHTML=`<div class="swatch" style="background:${a.color}"></div><input value="${a.name}" data-idx="${i}"><span class="del-btn" data-idx="${i}">âœ•</span>`;
d.querySelector('input').oninput=e=>{areas[i].name=e.target.value;render()};
d.querySelector('.del-btn').onclick=()=>{areas.splice(i,1);if(currentAreaIdx>=areas.length)currentAreaIdx=areas.length-1;render()};
d.onclick=e=>{if(e.target.tagName!=='INPUT'&&!e.target.classList.contains('del-btn')){currentAreaIdx=i;render()}};
c.appendChild(d);
});
}

function buildGridTemplateAreas(){
if(areas.length===0)return null;
const grid=[];
for(let r=0;r<rows;r++){
const row=[];
for(let c=0;c<cols;c++){
const ai=findAreaAt(r,c);
row.push(ai>=0?areas[ai].name:'.');
}
grid.push('"'+row.join(' ')+'"');
}
return grid.join('\n    ');
}

function generateCode(){
const colS=$('colSizes').value||Array(cols).fill('1fr').join(' ');
const rowS=$('rowSizes').value||Array(rows).fill('1fr').join(' ');
const template=buildGridTemplateAreas();
let css=`.container {\n  display: grid;\n  grid-template-columns: ${colS};\n  grid-template-rows: ${rowS};\n  gap: ${gap}px;`;
if(template) css+=`\n  grid-template-areas:\n    ${template};`;
css+='\n}';
if(areas.length>0){
css+='\n';
areas.forEach(a=>{
if(a.cells.size>0) css+=`\n.${a.name.replace(/\s+/g,'-')} {\n  grid-area: ${a.name};\n}`;
});
}
$('codeBox').textContent=css;

let html='<div class="container">';
if(areas.length>0){
areas.forEach(a=>{if(a.cells.size>0)html+=`\n  <div class="${a.name.replace(/\s+/g,'-')}">${a.name}</div>`});
}else{
for(let i=0;i<rows*cols;i++)html+=`\n  <div class="item">${i+1}</div>`;
}
html+='\n</div>';
$('htmlBox').textContent=html;
}

function copyCode(){navigator.clipboard.writeText($('codeBox').textContent).then(()=>{const b=document.querySelector('.code-section .copy-btn');b.textContent='âœ… ë³µì‚¬ë¨!';setTimeout(()=>b.textContent='ğŸ“‹ ë³µì‚¬',1500)})}
function copyHtml(){navigator.clipboard.writeText($('htmlBox').textContent).then(()=>{const bs=document.querySelectorAll('.copy-btn');bs[1].textContent='âœ… ë³µì‚¬ë¨!';setTimeout(()=>bs[1].textContent='ğŸ“‹ HTML ë³µì‚¬',1500)})}

function toggleTheme(){const t=document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark';document.documentElement.setAttribute('data-theme',t);localStorage.setItem('cgb-theme',t)}

(function init(){
const saved=localStorage.getItem('cgb-theme')||(matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light');
document.documentElement.setAttribute('data-theme',saved);
initPresets();
$('colRange').oninput=e=>{cols=+e.target.value;$('colVal').textContent=cols;$('colSizes').value=Array(cols).fill('1fr').join(' ');$('rowSizes').value=Array(rows).fill('1fr').join(' ');render()};
$('rowRange').oninput=e=>{rows=+e.target.value;$('rowVal').textContent=rows;$('rowSizes').value=Array(rows).fill('1fr').join(' ');$('colSizes').value=Array(cols).fill('1fr').join(' ');render()};
$('gapRange').oninput=e=>{gap=+e.target.value;$('gapVal').textContent=gap;render()};
$('colSizes').oninput=()=>render();
$('rowSizes').oninput=()=>render();
render();
})();
</script>
</body>
</html>
