<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Minifier</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #ffffff; --bg-secondary: #f8f9fa; --bg-tertiary: #e9ecef;
            --text-primary: #212529; --text-secondary: #6c757d;
            --accent: #8b5cf6; --border: #dee2e6; --shadow: rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-primary: #0f0f23; --bg-secondary: #1a1a2e; --bg-tertiary: #16213e;
            --text-primary: #e4e4e7; --text-secondary: #a1a1aa;
            --border: #27272a; --shadow: rgba(0,0,0,0.5);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: var(--bg-primary); color: var(--text-primary);
            padding: 20px; min-height: 100vh; transition: background 0.3s, color 0.3s;
        }
        .container { max-width: 900px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 24px; }
        h1 { font-size: 1.8rem; color: var(--accent); margin-bottom: 6px; }
        .subtitle { color: var(--text-secondary); font-size: 0.9rem; }
        .theme-toggle {
            position: fixed; top: 20px; right: 20px; width: 44px; height: 44px;
            border-radius: 50%; background: var(--bg-secondary); border: 2px solid var(--border);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem; cursor: pointer; z-index: 1000;
        }
        .editors { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
        .editor-box {
            background: var(--bg-secondary); border-radius: 12px; padding: 16px;
            border: 1px solid var(--border);
        }
        .editor-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .editor-title { font-weight: 700; font-size: 0.95rem; color: var(--accent); }
        textarea {
            width: 100%; height: 400px; padding: 12px; border: 1px solid var(--border);
            border-radius: 10px; background: var(--bg-primary); color: var(--text-primary);
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace; font-size: 0.85rem;
            resize: vertical; line-height: 1.5; tab-size: 2;
        }
        .btn-row { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; margin-bottom: 16px; }
        .btn {
            padding: 10px 20px; border: none; border-radius: 10px;
            font-weight: 700; cursor: pointer; font-size: 0.9rem; transition: opacity 0.2s;
        }
        .btn-primary { background: var(--accent); color: white; }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn:hover { opacity: 0.85; }
        .stats-bar {
            display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;
            background: var(--bg-secondary); border-radius: 12px; padding: 16px;
            border: 1px solid var(--border);
        }
        .stat { text-align: center; }
        .stat-label { font-size: 0.75rem; color: var(--text-secondary); }
        .stat-value { font-size: 1.4rem; font-weight: 800; color: var(--accent); }
        .stat-value.green { color: #10b981; }
        .options {
            background: var(--bg-secondary); border-radius: 12px; padding: 14px;
            border: 1px solid var(--border); margin-bottom: 16px;
            display: flex; gap: 16px; flex-wrap: wrap; align-items: center;
        }
        .options label { display: flex; align-items: center; gap: 6px; font-size: 0.85rem; cursor: pointer; }
        @media (max-width: 700px) {
            .editors { grid-template-columns: 1fr; }
            textarea { height: 250px; }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">ğŸŒ™</button>
    <div class="container">
        <header>
            <h1>ğŸ—œï¸ CSS Minifier</h1>
            <p class="subtitle">CSS ì½”ë“œ ì••ì¶• & ìµœì í™”</p>
        </header>

        <div class="options">
            <label><input type="checkbox" id="opt-comments" checked> ì£¼ì„ ì œê±°</label>
            <label><input type="checkbox" id="opt-whitespace" checked> ê³µë°± ì œê±°</label>
            <label><input type="checkbox" id="opt-semicolons" checked> ë§ˆì§€ë§‰ ì„¸ë¯¸ì½œë¡  ì œê±°</label>
            <label><input type="checkbox" id="opt-zeros" checked> ë¶ˆí•„ìš”í•œ 0 ì œê±°</label>
            <label><input type="checkbox" id="opt-colors" checked> ìƒ‰ìƒ ì¶•ì•½</label>
        </div>

        <div class="editors">
            <div class="editor-box">
                <div class="editor-header">
                    <span class="editor-title">CSS ì…ë ¥</span>
                    <button class="btn btn-secondary" onclick="document.getElementById('css-input').value=''" style="padding:4px 10px;font-size:0.8rem">ì§€ìš°ê¸°</button>
                </div>
                <textarea id="css-input" placeholder="CSS ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”...

.container {
    display: flex;
    padding: 0px;
    margin: 0.5em;
    color: #ff0000;
    /* This is a comment */
    background-color: #ffffff;
}"></textarea>
            </div>
            <div class="editor-box">
                <div class="editor-header">
                    <span class="editor-title">ì••ì¶• ê²°ê³¼</span>
                    <button class="btn btn-secondary" onclick="copyOutput()" style="padding:4px 10px;font-size:0.8rem" id="copy-btn">ë³µì‚¬</button>
                </div>
                <textarea id="css-output" readonly></textarea>
            </div>
        </div>

        <div class="btn-row">
            <button class="btn btn-primary" onclick="minify()">ì••ì¶•í•˜ê¸° â†’</button>
            <button class="btn btn-secondary" onclick="beautify()">â† ì •ë¦¬í•˜ê¸°</button>
            <button class="btn btn-secondary" onclick="loadExample()">ì˜ˆì œ</button>
        </div>

        <div class="stats-bar" id="stats-bar" style="display:none">
            <div class="stat"><div class="stat-label">ì›ë³¸ í¬ê¸°</div><div class="stat-value" id="stat-orig">0</div></div>
            <div class="stat"><div class="stat-label">ì••ì¶• í¬ê¸°</div><div class="stat-value" id="stat-min">0</div></div>
            <div class="stat"><div class="stat-label">ì ˆì•½</div><div class="stat-value green" id="stat-save">0%</div></div>
        </div>
    </div>
    <script>
        function initTheme() {
            const s = localStorage.getItem('cssmin-theme') || 'light';
            document.documentElement.setAttribute('data-theme', s);
            document.getElementById('theme-btn').textContent = s === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
        }
        function toggleTheme() {
            const c = document.documentElement.getAttribute('data-theme') || 'light';
            const n = c === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', n);
            localStorage.setItem('cssmin-theme', n);
            document.getElementById('theme-btn').textContent = n === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
        }

        function formatBytes(b) {
            if (b < 1024) return b + ' B';
            return (b / 1024).toFixed(1) + ' KB';
        }

        function minify() {
            let css = document.getElementById('css-input').value;
            if (!css.trim()) return;

            const origSize = new Blob([css]).size;

            if (document.getElementById('opt-comments').checked)
                css = css.replace(/\/\*[\s\S]*?\*\//g, '');

            if (document.getElementById('opt-whitespace').checked) {
                css = css.replace(/\s+/g, ' ');
                css = css.replace(/\s*([{}:;,>~+])\s*/g, '$1');
                css = css.replace(/;\s*}/g, '}');
            }

            if (document.getElementById('opt-semicolons').checked)
                css = css.replace(/;}/g, '}');

            if (document.getElementById('opt-zeros').checked) {
                css = css.replace(/(:|\s)0(px|em|rem|%|vh|vw|vmin|vmax|pt|cm|mm|in|pc|ex|ch)/g, '$10');
                css = css.replace(/(:|\s)0\.(\d)/g, '$1.$2');
            }

            if (document.getElementById('opt-colors').checked) {
                css = css.replace(/#([0-9a-fA-F])\1([0-9a-fA-F])\2([0-9a-fA-F])\3/g, '#$1$2$3');
            }

            css = css.trim();
            document.getElementById('css-output').value = css;

            const minSize = new Blob([css]).size;
            const saved = origSize > 0 ? ((1 - minSize / origSize) * 100).toFixed(1) : 0;
            document.getElementById('stat-orig').textContent = formatBytes(origSize);
            document.getElementById('stat-min').textContent = formatBytes(minSize);
            document.getElementById('stat-save').textContent = saved + '%';
            document.getElementById('stats-bar').style.display = '';
        }

        function beautify() {
            let css = document.getElementById('css-output').value || document.getElementById('css-input').value;
            if (!css.trim()) return;
            // Simple beautifier
            css = css.replace(/\s*{\s*/g, ' {\n  ');
            css = css.replace(/\s*}\s*/g, '\n}\n\n');
            css = css.replace(/;\s*/g, ';\n  ');
            css = css.replace(/\n  \n}/g, '\n}');
            css = css.replace(/\n{3,}/g, '\n\n');
            document.getElementById('css-input').value = css.trim();
        }

        function copyOutput() {
            navigator.clipboard.writeText(document.getElementById('css-output').value);
            const btn = document.getElementById('copy-btn');
            btn.textContent = 'âœ“ ë³µì‚¬ë¨';
            setTimeout(() => btn.textContent = 'ë³µì‚¬', 1500);
        }

        function loadExample() {
            document.getElementById('css-input').value = `/* Reset styles */
* {
    margin: 0px;
    padding: 0px;
    box-sizing: border-box;
}

/* Container */
.container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0px 20px;
    margin: 0px auto;
    max-width: 1200px;
    background-color: #ffffff;
    color: #333333;
}

/* Header section */
.header {
    width: 100%;
    padding: 20px 0px;
    border-bottom: 1px solid #eeeeee;
}

.header h1 {
    font-size: 2.0em;
    color: #ff6600;
    font-weight: 700;
}

/* Navigation */
.nav {
    display: flex;
    gap: 0.5em;
    list-style: none;
}

.nav a {
    text-decoration: none;
    color: #0066ff;
    padding: 8px 16px;
    border-radius: 4px;
    transition: background-color 0.3s ease;
}

.nav a:hover {
    background-color: #f0f0f0;
}

/* Responsive */
@media (max-width: 768px) {
    .container {
        padding: 0px 10px;
    }
    .nav {
        flex-direction: column;
    }
}`;
            minify();
        }

        initTheme();
    </script>
</body>
</html>
