<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Triangle Generator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #ffffff; --bg-secondary: #f8f9fa; --bg-tertiary: #e9ecef;
            --text-primary: #212529; --text-secondary: #6c757d;
            --accent: #14b8a6; --border: #dee2e6; --shadow: rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-primary: #0f0f23; --bg-secondary: #1a1a2e; --bg-tertiary: #16213e;
            --text-primary: #e4e4e7; --text-secondary: #a1a1aa;
            --border: #27272a; --shadow: rgba(0,0,0,0.5);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: var(--bg-primary); color: var(--text-primary);
            padding: 20px; min-height: 100vh; transition: background 0.3s, color 0.3s;
        }
        .container { max-width: 700px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 24px; }
        h1 { font-size: 1.8rem; color: var(--accent); margin-bottom: 6px; }
        .subtitle { color: var(--text-secondary); font-size: 0.9rem; }
        .theme-toggle {
            position: fixed; top: 20px; right: 20px; width: 44px; height: 44px;
            border-radius: 50%; background: var(--bg-secondary); border: 2px solid var(--border);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem; cursor: pointer; z-index: 1000;
        }
        .card {
            background: var(--bg-secondary); border-radius: 16px; padding: 24px;
            border: 1px solid var(--border); margin-bottom: 20px;
        }
        .card h2 { font-size: 1rem; margin-bottom: 16px; color: var(--accent); }
        .preview-area {
            display: flex; align-items: center; justify-content: center;
            min-height: 200px; background: var(--bg-tertiary); border-radius: 12px;
            border: 2px dashed var(--border); margin-bottom: 20px; padding: 20px;
            background-image: linear-gradient(45deg, var(--bg-secondary) 25%, transparent 25%),
                linear-gradient(-45deg, var(--bg-secondary) 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, var(--bg-secondary) 75%),
                linear-gradient(-45deg, transparent 75%, var(--bg-secondary) 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .triangle { width: 0; height: 0; transition: all 0.3s; }
        .directions { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 16px; }
        .dir-btn {
            padding: 10px; border: 2px solid var(--border); border-radius: 10px;
            background: var(--bg-tertiary); cursor: pointer; text-align: center;
            font-size: 1.2rem; transition: all 0.2s;
        }
        .dir-btn.active { border-color: var(--accent); background: var(--accent); color: white; }
        .dir-btn:hover { border-color: var(--accent); }
        .slider-row { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .slider-row label { min-width: 50px; font-size: 0.85rem; font-weight: 600; }
        .slider-row input[type="range"] { flex: 1; }
        .slider-row .val { min-width: 50px; text-align: right; font-size: 0.85rem; color: var(--text-secondary); font-variant-numeric: tabular-nums; }
        .color-row { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .color-row label { font-size: 0.85rem; font-weight: 600; }
        input[type="color"] { width: 50px; height: 36px; border: 1px solid var(--border); border-radius: 8px; cursor: pointer; }
        .code-box {
            background: var(--bg-primary); border-radius: 10px; padding: 16px;
            font-family: 'SF Mono', Monaco, monospace; font-size: 0.85rem;
            line-height: 1.6; white-space: pre; overflow-x: auto;
            border: 1px solid var(--border); position: relative;
        }
        .copy-btn {
            position: absolute; top: 8px; right: 8px; padding: 4px 10px;
            border-radius: 6px; border: 1px solid var(--border); background: var(--bg-secondary);
            color: var(--text-secondary); cursor: pointer; font-size: 0.75rem;
        }
        .copy-btn:hover { background: var(--accent); color: white; }
        @media (max-width: 500px) {
            .directions { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">üåô</button>
    <div class="container">
        <header>
            <h1>üî∫ CSS Triangle Generator</h1>
            <p class="subtitle">ÏàúÏàò CSSÎ°ú ÏÇºÍ∞ÅÌòï ÎßåÎì§Í∏∞</p>
        </header>

        <div class="preview-area">
            <div class="triangle" id="triangle"></div>
        </div>

        <div class="card">
            <h2>Î∞©Ìñ•</h2>
            <div class="directions">
                <div class="dir-btn active" data-dir="up" onclick="setDir('up')">‚ñ≤ ÏúÑ</div>
                <div class="dir-btn" data-dir="right" onclick="setDir('right')">‚ñ∂ Ïò§Î•∏Ï™Ω</div>
                <div class="dir-btn" data-dir="down" onclick="setDir('down')">‚ñº ÏïÑÎûò</div>
                <div class="dir-btn" data-dir="left" onclick="setDir('left')">‚óÄ ÏôºÏ™Ω</div>
                <div class="dir-btn" data-dir="top-left" onclick="setDir('top-left')">‚ó§ Ï¢åÏÉÅ</div>
                <div class="dir-btn" data-dir="top-right" onclick="setDir('top-right')">‚ó• Ïö∞ÏÉÅ</div>
                <div class="dir-btn" data-dir="bottom-right" onclick="setDir('bottom-right')">‚ó¢ Ïö∞Ìïò</div>
                <div class="dir-btn" data-dir="bottom-left" onclick="setDir('bottom-left')">‚ó£ Ï¢åÌïò</div>
            </div>

            <h2>ÌÅ¨Í∏∞</h2>
            <div class="slider-row">
                <label>ÎÑàÎπÑ</label>
                <input type="range" id="width" min="10" max="300" value="100" oninput="generate()">
                <span class="val" id="width-val">100px</span>
            </div>
            <div class="slider-row">
                <label>ÎÜíÏù¥</label>
                <input type="range" id="height" min="10" max="300" value="100" oninput="generate()">
                <span class="val" id="height-val">100px</span>
            </div>

            <h2>ÏÉâÏÉÅ</h2>
            <div class="color-row">
                <label>ÏÇºÍ∞ÅÌòï ÏÉâÏÉÅ</label>
                <input type="color" id="color" value="#14b8a6" oninput="generate()">
            </div>
        </div>

        <div class="card">
            <h2>CSS ÏΩîÎìú</h2>
            <div class="code-box" id="code-box">
                <button class="copy-btn" onclick="copyCode()">Î≥µÏÇ¨</button>
                <code id="css-code"></code>
            </div>
        </div>
    </div>
    <script>
        let direction = 'up';

        function initTheme() {
            const s = localStorage.getItem('csstri-theme') || 'light';
            document.documentElement.setAttribute('data-theme', s);
            document.getElementById('theme-btn').textContent = s === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }
        function toggleTheme() {
            const c = document.documentElement.getAttribute('data-theme') || 'light';
            const n = c === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', n);
            localStorage.setItem('csstri-theme', n);
            document.getElementById('theme-btn').textContent = n === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }

        function setDir(d) {
            direction = d;
            document.querySelectorAll('.dir-btn').forEach(b => b.classList.toggle('active', b.dataset.dir === d));
            generate();
        }

        function generate() {
            const w = +document.getElementById('width').value;
            const h = +document.getElementById('height').value;
            const color = document.getElementById('color').value;
            document.getElementById('width-val').textContent = w + 'px';
            document.getElementById('height-val').textContent = h + 'px';

            const hw = Math.round(w / 2);
            const hh = Math.round(h / 2);
            let borders = {};

            switch(direction) {
                case 'up':
                    borders = { top: '0', right: `${hw}px solid transparent`, bottom: `${h}px solid ${color}`, left: `${hw}px solid transparent` };
                    break;
                case 'down':
                    borders = { top: `${h}px solid ${color}`, right: `${hw}px solid transparent`, bottom: '0', left: `${hw}px solid transparent` };
                    break;
                case 'left':
                    borders = { top: `${hh}px solid transparent`, right: `${w}px solid ${color}`, bottom: `${hh}px solid transparent`, left: '0' };
                    break;
                case 'right':
                    borders = { top: `${hh}px solid transparent`, right: '0', bottom: `${hh}px solid transparent`, left: `${w}px solid ${color}` };
                    break;
                case 'top-left':
                    borders = { top: `${h}px solid ${color}`, right: `${w}px solid transparent`, bottom: '0', left: '0' };
                    break;
                case 'top-right':
                    borders = { top: `${h}px solid ${color}`, right: '0', bottom: '0', left: `${w}px solid transparent` };
                    break;
                case 'bottom-right':
                    borders = { top: '0', right: '0', bottom: `${h}px solid ${color}`, left: `${w}px solid transparent` };
                    break;
                case 'bottom-left':
                    borders = { top: '0', right: `${w}px solid transparent`, bottom: `${h}px solid ${color}`, left: '0' };
                    break;
            }

            const el = document.getElementById('triangle');
            el.style.cssText = `width:0;height:0;border-top:${borders.top};border-right:${borders.right};border-bottom:${borders.bottom};border-left:${borders.left};`;

            const css = `.triangle {
  width: 0;
  height: 0;
  border-top: ${borders.top};
  border-right: ${borders.right};
  border-bottom: ${borders.bottom};
  border-left: ${borders.left};
}`;
            document.getElementById('css-code').textContent = css;
        }

        function copyCode() {
            navigator.clipboard.writeText(document.getElementById('css-code').textContent);
        }

        initTheme();
        generate();
    </script>
</body>
</html>
