<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í”Œë˜ì‹œì¹´ë“œ í•™ìŠµ - Flashcard Maker | EastSea Tools</title>
<meta name="description" content="í”Œë˜ì‹œì¹´ë“œë¥¼ ë§Œë“¤ê³  íš¨ìœ¨ì ìœ¼ë¡œ í•™ìŠµí•˜ì„¸ìš”. ê°„ê²© ë°˜ë³µ ì•Œê³ ë¦¬ì¦˜, ë± ê´€ë¦¬, í†µê³„ ì¶”ì .">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#f0f2f5;--card:#fff;--text:#1a1a2e;--text2:#666;--primary:#6c5ce7;--primary2:#a29bfe;--success:#00b894;--warning:#fdcb6e;--danger:#e17055;--border:#e0e0e0;--shadow:0 4px 20px rgba(0,0,0,0.08);--input-bg:#f8f9fa}
[data-theme="dark"]{--bg:#1a1a2e;--card:#16213e;--text:#e0e0e0;--text2:#aaa;--border:#2a2a4a;--shadow:0 4px 20px rgba(0,0,0,0.3);--input-bg:#0f3460}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;transition:all .3s}
.container{max-width:800px;margin:0 auto;padding:20px}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:12px}
h1{font-size:1.6rem;background:linear-gradient(135deg,var(--primary),var(--primary2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.theme-btn{background:var(--card);border:1px solid var(--border);border-radius:50%;width:40px;height:40px;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all .3s;box-shadow:var(--shadow)}
.theme-btn:hover{transform:scale(1.1)}
.card{background:var(--card);border-radius:16px;padding:24px;box-shadow:var(--shadow);margin-bottom:20px}
.stats-bar{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:24px}
@media(max-width:500px){.stats-bar{grid-template-columns:repeat(2,1fr)}}
.stat{background:var(--card);border-radius:12px;padding:14px;text-align:center;box-shadow:var(--shadow)}
.stat-num{font-size:1.4rem;font-weight:700}
.stat-label{font-size:.75rem;color:var(--text2);margin-top:2px}
.tab-bar{display:flex;gap:4px;background:var(--input-bg);border-radius:12px;padding:4px;margin-bottom:20px}
.tab{flex:1;padding:10px;border:none;border-radius:10px;background:transparent;color:var(--text2);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .3s}
.tab.active{background:var(--card);color:var(--text);box-shadow:0 2px 8px rgba(0,0,0,.1)}
.deck-list{display:grid;gap:12px}
.deck-item{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--input-bg);border-radius:12px;cursor:pointer;transition:all .3s;border:2px solid transparent}
.deck-item:hover{border-color:var(--primary);transform:translateY(-2px)}
.deck-item.active{border-color:var(--primary)}
.deck-info h3{font-size:1rem;margin-bottom:4px}
.deck-info p{font-size:.8rem;color:var(--text2)}
.deck-actions{display:flex;gap:6px}
.deck-actions button{background:none;border:none;cursor:pointer;font-size:1rem;opacity:.5;transition:opacity .3s;padding:4px}
.deck-actions button:hover{opacity:1}
.form-row{display:flex;gap:12px;margin-bottom:12px}
@media(max-width:500px){.form-row{flex-direction:column}}
.form-row input,.form-row textarea{flex:1;padding:10px 14px;border:1px solid var(--border);border-radius:10px;background:var(--input-bg);color:var(--text);font-size:.95rem;font-family:inherit;resize:vertical}
.form-row input:focus,.form-row textarea:focus{outline:none;border-color:var(--primary)}
.btn{padding:10px 20px;border:none;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary2));color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(108,92,231,.3)}
.btn-secondary{background:var(--input-bg);color:var(--text);border:1px solid var(--border)}
.btn-sm{padding:8px 14px;font-size:.8rem}
.btn-group{display:flex;gap:8px;flex-wrap:wrap}
.flashcard{perspective:1000px;width:100%;max-width:500px;height:300px;margin:0 auto 24px;cursor:pointer}
.flashcard-inner{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d}
.flashcard.flipped .flashcard-inner{transform:rotateY(180deg)}
.flashcard-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px;text-align:center;font-size:1.3rem;line-height:1.6;box-shadow:var(--shadow)}
.flashcard-front{background:linear-gradient(135deg,var(--primary),var(--primary2));color:#fff}
.flashcard-back{background:var(--card);border:2px solid var(--primary);transform:rotateY(180deg)}
.flashcard-label{position:absolute;top:12px;left:16px;font-size:.7rem;opacity:.7;text-transform:uppercase;letter-spacing:1px}
.flashcard-counter{position:absolute;top:12px;right:16px;font-size:.75rem;opacity:.7}
.rate-btns{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:20px}
.rate-btn{padding:12px 20px;border:2px solid var(--border);border-radius:12px;background:transparent;color:var(--text);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .3s;min-width:80px}
.rate-btn:hover{transform:translateY(-2px)}
.rate-btn.again{border-color:var(--danger);color:var(--danger)}
.rate-btn.again:hover{background:rgba(225,112,85,.1)}
.rate-btn.hard{border-color:var(--warning);color:#e67e22}
.rate-btn.hard:hover{background:rgba(253,203,110,.1)}
.rate-btn.good{border-color:var(--success);color:var(--success)}
.rate-btn.good:hover{background:rgba(0,184,148,.1)}
.rate-btn.easy{border-color:var(--primary);color:var(--primary)}
.rate-btn.easy:hover{background:rgba(108,92,231,.1)}
.card-list{max-height:400px;overflow-y:auto}
.card-item{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid var(--border)}
.card-item:last-child{border:none}
.card-front-text{font-weight:600;flex:1;font-size:.9rem}
.card-back-text{flex:1;font-size:.85rem;color:var(--text2)}
.card-item button{background:none;border:none;cursor:pointer;opacity:.4;transition:opacity .3s}
.card-item button:hover{opacity:1}
.progress-bar{height:6px;background:var(--input-bg);border-radius:3px;margin:12px 0;overflow:hidden}
.progress-fill{height:100%;border-radius:3px;background:linear-gradient(90deg,var(--primary),var(--success));transition:width .5s}
.study-complete{text-align:center;padding:40px 20px}
.study-complete .icon{font-size:4rem;margin-bottom:16px}
.study-complete h2{margin-bottom:8px}
.study-complete p{color:var(--text2);margin-bottom:20px}
.empty{text-align:center;padding:40px;color:var(--text2)}
.empty .icon{font-size:3rem;margin-bottom:12px}
.back-link{display:inline-flex;align-items:center;gap:6px;color:var(--text2);text-decoration:none;font-size:.85rem;margin-bottom:16px;transition:color .3s}
.back-link:hover{color:var(--primary)}
.import-area{margin-top:12px}
.import-area textarea{width:100%;min-height:100px}
</style>
</head>
<body>
<div class="container">
<a href="/tools/" class="back-link">â† ë„êµ¬ ëª©ë¡</a>
<header>
<h1>ğŸ§  í”Œë˜ì‹œì¹´ë“œ</h1>
<button class="theme-btn" onclick="toggleTheme()" id="themeBtn">ğŸŒ™</button>
</header>

<div class="stats-bar">
<div class="stat"><div class="stat-num" id="statTotal">0</div><div class="stat-label">ì „ì²´ ì¹´ë“œ</div></div>
<div class="stat"><div class="stat-num" id="statDue" style="color:var(--danger)">0</div><div class="stat-label">ë³µìŠµ ëŒ€ê¸°</div></div>
<div class="stat"><div class="stat-num" id="statLearned" style="color:var(--success)">0</div><div class="stat-label">í•™ìŠµ ì™„ë£Œ</div></div>
<div class="stat"><div class="stat-num" id="statStreak" style="color:var(--primary)">0</div><div class="stat-label">ì—°ì† ì¼ìˆ˜</div></div>
</div>

<div class="tab-bar">
<button class="tab active" data-tab="study" onclick="switchTab('study')">ğŸ“– í•™ìŠµ</button>
<button class="tab" data-tab="manage" onclick="switchTab('manage')">âœï¸ ê´€ë¦¬</button>
<button class="tab" data-tab="decks" onclick="switchTab('decks')">ğŸ“š ë±</button>
</div>

<div id="tab-study" class="tab-content">
<div id="studyArea"></div>
</div>

<div id="tab-manage" class="tab-content" style="display:none">
<div class="card">
<h2 style="margin-bottom:16px">ì¹´ë“œ ì¶”ê°€</h2>
<div class="form-row">
<input type="text" id="frontInput" placeholder="ì•ë©´ (ì§ˆë¬¸)">
</div>
<div class="form-row">
<textarea id="backInput" rows="2" placeholder="ë’·ë©´ (ë‹µ)"></textarea>
</div>
<div class="btn-group">
<button class="btn btn-primary" onclick="addCard()">ì¹´ë“œ ì¶”ê°€</button>
<button class="btn btn-secondary btn-sm" onclick="toggleImport()">ğŸ“¥ ì¼ê´„ ê°€ì ¸ì˜¤ê¸°</button>
</div>
<div class="import-area" id="importArea" style="display:none">
<p style="font-size:.8rem;color:var(--text2);margin:8px 0">í•œ ì¤„ì— í•˜ë‚˜ì”©, íƒ­(Tab)ìœ¼ë¡œ ì•ë©´/ë’·ë©´ êµ¬ë¶„</p>
<div class="form-row"><textarea id="importText" rows="4" placeholder="apple&#9;ì‚¬ê³¼&#10;banana&#9;ë°”ë‚˜ë‚˜"></textarea></div>
<button class="btn btn-primary btn-sm" onclick="importCards()">ê°€ì ¸ì˜¤ê¸°</button>
</div>
</div>
<div class="card">
<h2 style="margin-bottom:16px">ì¹´ë“œ ëª©ë¡ (<span id="cardCount">0</span>)</h2>
<div class="card-list" id="cardList"></div>
</div>
</div>

<div id="tab-decks" class="tab-content" style="display:none">
<div class="card">
<h2 style="margin-bottom:16px">ë± ê´€ë¦¬</h2>
<div class="form-row">
<input type="text" id="deckName" placeholder="ìƒˆ ë± ì´ë¦„">
<button class="btn btn-primary btn-sm" onclick="addDeck()">ì¶”ê°€</button>
</div>
<div class="deck-list" id="deckList"></div>
</div>
</div>
</div>

<script>
let data=JSON.parse(localStorage.getItem('fc_data')||'null')||{decks:[{id:'default',name:'ê¸°ë³¸ ë±',cards:[]}],activeDeck:'default',streak:0,lastStudy:null};
let theme=localStorage.getItem('fc_theme')||'light';
let studyQueue=[];
let currentCardIdx=0;
let isFlipped=false;

function init(){
  if(theme==='dark')document.documentElement.setAttribute('data-theme','dark');
  updateThemeBtn();
  updateStats();
  renderStudy();
  renderCards();
  renderDecks();
}

function save(){localStorage.setItem('fc_data',JSON.stringify(data))}
function toggleTheme(){
  theme=theme==='dark'?'light':'dark';
  document.documentElement.toggleAttribute('data-theme',theme==='dark');
  localStorage.setItem('fc_theme',theme);
  updateThemeBtn();
}
function updateThemeBtn(){document.getElementById('themeBtn').textContent=theme==='dark'?'â˜€ï¸':'ğŸŒ™'}

function getDeck(){return data.decks.find(d=>d.id===data.activeDeck)||data.decks[0]}

function switchTab(t){
  document.querySelectorAll('.tab').forEach(b=>b.classList.toggle('active',b.dataset.tab===t));
  document.querySelectorAll('.tab-content').forEach(c=>c.style.display='none');
  document.getElementById('tab-'+t).style.display='block';
  if(t==='study')renderStudy();
}

function addCard(){
  const front=document.getElementById('frontInput').value.trim();
  const back=document.getElementById('backInput').value.trim();
  if(!front||!back){alert('ì•ë©´ê³¼ ë’·ë©´ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”');return}
  const deck=getDeck();
  deck.cards.push({id:Date.now(),front,back,interval:0,ease:2.5,due:Date.now(),reviews:0,lastReview:null});
  save();renderCards();updateStats();
  document.getElementById('frontInput').value='';
  document.getElementById('backInput').value='';
  document.getElementById('frontInput').focus();
}

function toggleImport(){
  const el=document.getElementById('importArea');
  el.style.display=el.style.display==='none'?'block':'none';
}

function importCards(){
  const text=document.getElementById('importText').value.trim();
  if(!text)return;
  const deck=getDeck();
  const lines=text.split('\n').filter(l=>l.trim());
  let count=0;
  lines.forEach(line=>{
    const parts=line.split('\t');
    if(parts.length>=2){
      deck.cards.push({id:Date.now()+count,front:parts[0].trim(),back:parts[1].trim(),interval:0,ease:2.5,due:Date.now(),reviews:0,lastReview:null});
      count++;
    }
  });
  save();renderCards();updateStats();
  document.getElementById('importText').value='';
  alert(`${count}ê°œ ì¹´ë“œë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤`);
}

function deleteCard(id){
  if(!confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'))return;
  const deck=getDeck();
  deck.cards=deck.cards.filter(c=>c.id!==id);
  save();renderCards();updateStats();renderStudy();
}

function addDeck(){
  const name=document.getElementById('deckName').value.trim();
  if(!name)return;
  data.decks.push({id:'deck_'+Date.now(),name,cards:[]});
  save();renderDecks();
  document.getElementById('deckName').value='';
}

function selectDeck(id){
  data.activeDeck=id;
  save();renderDecks();renderCards();updateStats();renderStudy();
}

function deleteDeck(id){
  if(data.decks.length<=1){alert('ìµœì†Œ 1ê°œ ë±ì´ í•„ìš”í•©ë‹ˆë‹¤');return}
  if(!confirm('ë±ê³¼ ëª¨ë“  ì¹´ë“œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'))return;
  data.decks=data.decks.filter(d=>d.id!==id);
  if(data.activeDeck===id)data.activeDeck=data.decks[0].id;
  save();renderDecks();renderCards();updateStats();renderStudy();
}

function getDueCards(){
  const deck=getDeck();
  const now=Date.now();
  return deck.cards.filter(c=>c.due<=now);
}

function updateStats(){
  const deck=getDeck();
  const due=getDueCards();
  const learned=deck.cards.filter(c=>c.interval>0);
  document.getElementById('statTotal').textContent=deck.cards.length;
  document.getElementById('statDue').textContent=due.length;
  document.getElementById('statLearned').textContent=learned.length;
  // streak
  const today=new Date().toDateString();
  if(data.lastStudy){
    const last=new Date(data.lastStudy).toDateString();
    const yesterday=new Date(Date.now()-86400000).toDateString();
    if(last!==today&&last!==yesterday)data.streak=0;
  }
  document.getElementById('statStreak').textContent=data.streak;
}

function renderStudy(){
  const area=document.getElementById('studyArea');
  studyQueue=getDueCards();
  currentCardIdx=0;isFlipped=false;
  if(!getDeck().cards.length){
    area.innerHTML='<div class="empty"><div class="icon">ğŸ“</div><p>ì¹´ë“œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”</p><p style="font-size:.85rem">ê´€ë¦¬ íƒ­ì—ì„œ ì¹´ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</p></div>';
    return;
  }
  if(!studyQueue.length){
    area.innerHTML='<div class="study-complete"><div class="icon">ğŸ‰</div><h2>í•™ìŠµ ì™„ë£Œ!</h2><p>ë³µìŠµí•  ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.</p><button class="btn btn-primary" onclick="resetDue()">ì „ì²´ ë‹¤ì‹œ í•™ìŠµ</button></div>';
    return;
  }
  showCard();
}

function showCard(){
  const area=document.getElementById('studyArea');
  if(currentCardIdx>=studyQueue.length){
    const today=new Date().toDateString();
    if(!data.lastStudy||new Date(data.lastStudy).toDateString()!==today)data.streak++;
    data.lastStudy=new Date().toISOString();
    save();updateStats();
    area.innerHTML='<div class="study-complete"><div class="icon">âœ…</div><h2>ì„¸ì…˜ ì™„ë£Œ!</h2><p>ì˜¤ëŠ˜ì˜ ë³µìŠµì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.</p><button class="btn btn-primary" onclick="renderStudy()">ë‹¤ì‹œ ì‹œì‘</button></div>';
    return;
  }
  const card=studyQueue[currentCardIdx];
  const progress=(currentCardIdx/studyQueue.length*100).toFixed(0);
  isFlipped=false;
  area.innerHTML=`
    <div class="progress-bar"><div class="progress-fill" style="width:${progress}%"></div></div>
    <div class="flashcard" id="flashcard" onclick="flipCard()">
      <div class="flashcard-inner">
        <div class="flashcard-face flashcard-front">
          <div class="flashcard-label">ì§ˆë¬¸</div>
          <div class="flashcard-counter">${currentCardIdx+1}/${studyQueue.length}</div>
          <div>${escHtml(card.front)}</div>
        </div>
        <div class="flashcard-face flashcard-back">
          <div class="flashcard-label">ë‹µ</div>
          <div class="flashcard-counter">${currentCardIdx+1}/${studyQueue.length}</div>
          <div>${escHtml(card.back)}</div>
        </div>
      </div>
    </div>
    <div id="rateArea" style="text-align:center;color:var(--text2);font-size:.9rem">ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ë‹µì„ í™•ì¸í•˜ì„¸ìš”</div>`;
}

function flipCard(){
  const el=document.getElementById('flashcard');
  if(!isFlipped){
    el.classList.add('flipped');
    isFlipped=true;
    document.getElementById('rateArea').innerHTML=`
      <div class="rate-btns">
        <button class="rate-btn again" onclick="rate(0)">ğŸ˜“ ë‹¤ì‹œ</button>
        <button class="rate-btn hard" onclick="rate(1)">ğŸ¤” ì–´ë ¤ì›€</button>
        <button class="rate-btn good" onclick="rate(2)">ğŸ˜Š ë³´í†µ</button>
        <button class="rate-btn easy" onclick="rate(3)">ğŸ¤© ì‰¬ì›€</button>
      </div>`;
  } else {
    el.classList.remove('flipped');
    isFlipped=false;
  }
}

function rate(quality){
  const card=studyQueue[currentCardIdx];
  const deck=getDeck();
  const real=deck.cards.find(c=>c.id===card.id);
  if(!real)return;

  // SM-2 simplified
  if(quality===0){real.interval=0;real.ease=Math.max(1.3,real.ease-0.3)}
  else if(quality===1){real.interval=Math.max(1,real.interval*1.2);real.ease=Math.max(1.3,real.ease-0.15)}
  else if(quality===2){real.interval=real.interval===0?1:real.interval*real.ease;real.ease+=0.05}
  else{real.interval=real.interval===0?3:real.interval*real.ease*1.3;real.ease+=0.15}

  real.due=Date.now()+real.interval*86400000;
  real.reviews++;
  real.lastReview=new Date().toISOString();
  save();updateStats();
  currentCardIdx++;
  showCard();
}

function resetDue(){
  const deck=getDeck();
  deck.cards.forEach(c=>{c.due=Date.now();c.interval=0});
  save();updateStats();renderStudy();
}

function renderCards(){
  const deck=getDeck();
  document.getElementById('cardCount').textContent=deck.cards.length;
  const el=document.getElementById('cardList');
  if(!deck.cards.length){el.innerHTML='<div class="empty"><div class="icon">ğŸ“­</div><p>ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤</p></div>';return}
  el.innerHTML=deck.cards.map(c=>`
    <div class="card-item">
      <div class="card-front-text">${escHtml(c.front)}</div>
      <div class="card-back-text">${escHtml(c.back)}</div>
      <button onclick="deleteCard(${c.id})">âœ•</button>
    </div>`).join('');
}

function renderDecks(){
  const el=document.getElementById('deckList');
  el.innerHTML=data.decks.map(d=>`
    <div class="deck-item ${d.id===data.activeDeck?'active':''}" onclick="selectDeck('${d.id}')">
      <div class="deck-info">
        <h3>ğŸ“š ${escHtml(d.name)}</h3>
        <p>${d.cards.length}ê°œ ì¹´ë“œ Â· ${d.cards.filter(c=>c.due<=Date.now()).length}ê°œ ë³µìŠµ ëŒ€ê¸°</p>
      </div>
      <div class="deck-actions">
        <button onclick="event.stopPropagation();deleteDeck('${d.id}')">ğŸ—‘ï¸</button>
      </div>
    </div>`).join('');
}

function escHtml(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>')}

document.addEventListener('keydown',e=>{
  if(document.querySelector('.tab[data-tab="study"]').classList.contains('active')){
    if(e.code==='Space'){e.preventDefault();flipCard()}
    if(isFlipped){
      if(e.key==='1')rate(0);
      if(e.key==='2')rate(1);
      if(e.key==='3')rate(2);
      if(e.key==='4')rate(3);
    }
  }
});

init();
</script>
</body>
</html>