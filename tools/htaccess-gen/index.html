<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>.htaccess ë¦¬ë‹¤ì´ë ‰íŠ¸ ìƒì„±ê¸° | East Sea Tools</title>
<meta name="description" content=".htaccess ë¦¬ë‹¤ì´ë ‰íŠ¸ ê·œì¹™ì„ ì‰½ê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”. 301/302 ë¦¬ë‹¤ì´ë ‰íŠ¸, HTTPS ê°•ì œ, www ë¦¬ë‹¤ì´ë ‰íŠ¸ ë“±.">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#4F46E5;--primary-light:#6366F1;--bg:#f8fafc;--surface:#fff;--text:#1e293b;--text-secondary:#64748b;--border:#e2e8f0;--shadow:0 1px 3px rgba(0,0,0,.1);--radius:12px}
@media(prefers-color-scheme:dark){:root{--bg:#0f172a;--surface:#1e293b;--text:#f1f5f9;--text-secondary:#94a3b8;--border:#334155;--shadow:0 1px 3px rgba(0,0,0,.3)}}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px}
.container{max-width:700px;width:100%}
h1{font-size:1.8rem;text-align:center;margin:20px 0 8px;color:var(--primary)}
.desc{text-align:center;color:var(--text-secondary);margin-bottom:24px;font-size:.95rem}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:16px;box-shadow:var(--shadow)}
.card h2{font-size:1.05rem;margin-bottom:16px;padding-bottom:8px;border-bottom:2px solid var(--primary)}
label{display:block;font-weight:600;margin-bottom:6px;font-size:.85rem}
input,select{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;font-size:.9rem;background:var(--bg);color:var(--text);margin-bottom:12px;font-family:inherit}
input:focus,select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(79,70,229,.15)}
.btn{padding:12px 24px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:.95rem;font-weight:600;cursor:pointer;transition:background .2s}
.btn:hover{background:var(--primary-light)}
.btn-full{width:100%}
.btn-sm{padding:6px 14px;font-size:.82rem}
.btn-outline{background:transparent;color:var(--primary);border:2px solid var(--primary)}
.btn-outline:hover{background:var(--primary);color:#fff}
.btn-danger{background:#ef4444}
.checkbox-group{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:16px}
@media(max-width:480px){.checkbox-group{grid-template-columns:1fr}}
.checkbox-item{display:flex;align-items:center;gap:8px;padding:8px;background:var(--bg);border-radius:8px;border:1px solid var(--border)}
.checkbox-item input{width:auto;margin:0}
.checkbox-item label{margin:0;font-weight:400;font-size:.85rem;cursor:pointer}
.redirect-row{display:grid;grid-template-columns:auto 1fr 1fr auto;gap:8px;align-items:start;margin-bottom:8px}
@media(max-width:480px){.redirect-row{grid-template-columns:1fr;}}
.redirect-row select,.redirect-row input{margin:0}
.output{position:relative}
.output pre{background:#1e293b;color:#e2e8f0;border-radius:8px;padding:16px;font-family:'SF Mono',Monaco,Consolas,monospace;font-size:.82rem;overflow-x:auto;white-space:pre;line-height:1.6;min-height:80px}
.copy-btn{position:absolute;top:8px;right:8px;padding:6px 12px;background:var(--primary);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.8rem}
.domain-input{display:flex;gap:8px;margin-bottom:12px}
.domain-input input{flex:1;margin:0}
footer{text-align:center;padding:32px 0 16px;color:var(--text-secondary);font-size:.8rem}
.note{font-size:.8rem;color:var(--text-secondary);line-height:1.5;margin-top:12px;padding:10px;background:var(--bg);border-radius:8px}
</style>
</head>
<body>
<div class="container">
<h1>âš™ï¸ .htaccess ë¦¬ë‹¤ì´ë ‰íŠ¸ ìƒì„±ê¸°</h1>
<p class="desc">Apache .htaccess ë¦¬ë‹¤ì´ë ‰íŠ¸ ê·œì¹™ì„ ì‰½ê³  ë¹ ë¥´ê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”.</p>

<div class="card">
<h2>ğŸ”’ ì¼ë°˜ ì„¤ì •</h2>
<label>ë„ë©”ì¸</label>
<input type="text" id="domain" placeholder="example.com" value="">

<div class="checkbox-group">
<div class="checkbox-item"><input type="checkbox" id="forceHttps"><label for="forceHttps">HTTPS ê°•ì œ</label></div>
<div class="checkbox-item"><input type="checkbox" id="forceWww"><label for="forceWww">www ê°•ì œ</label></div>
<div class="checkbox-item"><input type="checkbox" id="removeWww"><label for="removeWww">www ì œê±°</label></div>
<div class="checkbox-item"><input type="checkbox" id="removeTrailing"><label for="removeTrailing">í›„í–‰ ìŠ¬ë˜ì‹œ ì œê±°</label></div>
<div class="checkbox-item"><input type="checkbox" id="addTrailing"><label for="addTrailing">í›„í–‰ ìŠ¬ë˜ì‹œ ì¶”ê°€</label></div>
<div class="checkbox-item"><input type="checkbox" id="blockHotlink"><label for="blockHotlink">ì´ë¯¸ì§€ í•«ë§í¬ ì°¨ë‹¨</label></div>
<div class="checkbox-item"><input type="checkbox" id="customError"><label for="customError">ì»¤ìŠ¤í…€ ì—ëŸ¬ í˜ì´ì§€</label></div>
<div class="checkbox-item"><input type="checkbox" id="gzip"><label for="gzip">Gzip ì••ì¶• í™œì„±í™”</label></div>
</div>
</div>

<div class="card">
<h2>â†ªï¸ ê°œë³„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ê·œì¹™</h2>
<div id="redirects"></div>
<button class="btn btn-outline btn-sm" onclick="addRedirect()">+ ê·œì¹™ ì¶”ê°€</button>
</div>

<button class="btn btn-full" onclick="generate()" style="margin-bottom:16px">âš™ï¸ .htaccess ìƒì„±</button>

<div class="card output">
<h2>ğŸ“„ ê²°ê³¼</h2>
<button class="copy-btn" onclick="copyResult()">ğŸ“‹ ë³µì‚¬</button>
<pre id="output"># ì„¤ì •ì„ ì™„ë£Œí•˜ê³  ìƒì„± ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</pre>
</div>

<div class="note">
âš ï¸ <strong>ì£¼ì˜ì‚¬í•­</strong><br>
â€¢ .htaccessëŠ” Apache ì›¹ì„œë²„ì—ì„œë§Œ ì‘ë™í•©ë‹ˆë‹¤ (NginxëŠ” ë³„ë„ ì„¤ì • í•„ìš”)<br>
â€¢ ë³€ê²½ ì „ ê¸°ì¡´ íŒŒì¼ì„ ë°˜ë“œì‹œ ë°±ì—…í•˜ì„¸ìš”<br>
â€¢ www ê°•ì œì™€ www ì œê±°ëŠ” ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤<br>
â€¢ í›„í–‰ ìŠ¬ë˜ì‹œ ì¶”ê°€ì™€ ì œê±°ë„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
</div>
</div>
<footer>Â© 2026 East Sea</footer>

<script>
let redirects=[];

// Mutual exclusion
document.getElementById('forceWww').addEventListener('change',e=>{if(e.target.checked)document.getElementById('removeWww').checked=false;});
document.getElementById('removeWww').addEventListener('change',e=>{if(e.target.checked)document.getElementById('forceWww').checked=false;});
document.getElementById('removeTrailing').addEventListener('change',e=>{if(e.target.checked)document.getElementById('addTrailing').checked=false;});
document.getElementById('addTrailing').addEventListener('change',e=>{if(e.target.checked)document.getElementById('removeTrailing').checked=false;});

function addRedirect(type='301',from='',to=''){
redirects.push({id:Date.now(),type,from,to});
renderRedirects();
}

function removeRedirect(id){
redirects=redirects.filter(r=>r.id!==id);
renderRedirects();
}

function renderRedirects(){
const el=document.getElementById('redirects');
el.innerHTML=redirects.map(r=>`
<div class="redirect-row">
<select onchange="updRedir(${r.id},'type',this.value)">
<option value="301"${r.type==='301'?' selected':''}>301 (ì˜êµ¬)</option>
<option value="302"${r.type==='302'?' selected':''}>302 (ì„ì‹œ)</option>
</select>
<input type="text" value="${r.from}" onchange="updRedir(${r.id},'from',this.value)" placeholder="/old-page">
<input type="text" value="${r.to}" onchange="updRedir(${r.id},'to',this.value)" placeholder="/new-page ë˜ëŠ” URL">
<button class="btn btn-danger btn-sm" onclick="removeRedirect(${r.id})">âœ•</button>
</div>
`).join('');
}

function updRedir(id,key,val){
const r=redirects.find(r=>r.id===id);
if(r)r[key]=val;
}

function generate(){
const domain=document.getElementById('domain').value.trim();
const lines=['# .htaccess','# Generated by East Sea Tools','# https://eastsea.monster/tools/htaccess-gen/',''];

const https=document.getElementById('forceHttps').checked;
const www=document.getElementById('forceWww').checked;
const noWww=document.getElementById('removeWww').checked;
const noTrail=document.getElementById('removeTrailing').checked;
const addTrail=document.getElementById('addTrailing').checked;
const hotlink=document.getElementById('blockHotlink').checked;
const errPage=document.getElementById('customError').checked;
const gz=document.getElementById('gzip').checked;

if(https||www||noWww||noTrail||addTrail){
lines.push('RewriteEngine On','');
}

if(https){
lines.push('# HTTPS ê°•ì œ');
lines.push('RewriteCond %{HTTPS} off');
lines.push('RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]');
lines.push('');
}

if(www&&domain){
lines.push('# www ê°•ì œ');
lines.push('RewriteCond %{HTTP_HOST} !^www\\. [NC]');
lines.push(`RewriteRule ^(.*)$ https://www.${domain}/$1 [L,R=301]`);
lines.push('');
}

if(noWww&&domain){
lines.push('# www ì œê±°');
lines.push('RewriteCond %{HTTP_HOST} ^www\\.(.*)$ [NC]');
lines.push(`RewriteRule ^(.*)$ https://${domain}/$1 [L,R=301]`);
lines.push('');
}

if(noTrail){
lines.push('# í›„í–‰ ìŠ¬ë˜ì‹œ ì œê±°');
lines.push('RewriteCond %{REQUEST_FILENAME} !-d');
lines.push('RewriteRule ^(.*)/$ /$1 [L,R=301]');
lines.push('');
}

if(addTrail){
lines.push('# í›„í–‰ ìŠ¬ë˜ì‹œ ì¶”ê°€');
lines.push('RewriteCond %{REQUEST_FILENAME} !-f');
lines.push('RewriteRule ^(.*[^/])$ /$1/ [L,R=301]');
lines.push('');
}

if(hotlink&&domain){
lines.push('# ì´ë¯¸ì§€ í•«ë§í¬ ì°¨ë‹¨');
lines.push('RewriteCond %{HTTP_REFERER} !^$');
lines.push(`RewriteCond %{HTTP_REFERER} !^https?://(www\\.)?${domain.replace(/\./g,'\\.')}/ [NC]`);
lines.push('RewriteRule \\.(jpg|jpeg|png|gif|webp|svg)$ - [F,NC]');
lines.push('');
}

if(redirects.length){
lines.push('# ê°œë³„ ë¦¬ë‹¤ì´ë ‰íŠ¸');
for(const r of redirects){
if(r.from&&r.to){
lines.push(`Redirect ${r.type} ${r.from} ${r.to}`);
}
}
lines.push('');
}

if(errPage){
lines.push('# ì»¤ìŠ¤í…€ ì—ëŸ¬ í˜ì´ì§€');
lines.push('ErrorDocument 404 /404.html');
lines.push('ErrorDocument 403 /403.html');
lines.push('ErrorDocument 500 /500.html');
lines.push('');
}

if(gz){
lines.push('# Gzip ì••ì¶•');
lines.push('<IfModule mod_deflate.c>');
lines.push('  AddOutputFilterByType DEFLATE text/html text/plain text/css');
lines.push('  AddOutputFilterByType DEFLATE text/javascript application/javascript');
lines.push('  AddOutputFilterByType DEFLATE application/json application/xml');
lines.push('  AddOutputFilterByType DEFLATE image/svg+xml');
lines.push('</IfModule>');
lines.push('');
}

document.getElementById('output').textContent=lines.join('\n');
}

function copyResult(){
const text=document.getElementById('output').textContent;
navigator.clipboard.writeText(text).then(()=>{
const btn=document.querySelector('.copy-btn');
btn.textContent='âœ… ë³µì‚¬ë¨!';
setTimeout(()=>btn.textContent='ğŸ“‹ ë³µì‚¬',1500);
});
}

// Init with one example redirect
addRedirect('301','/old-page','/new-page');
</script>
</body>
</html>
