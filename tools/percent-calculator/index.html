<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Percentage Calculator</title>
<style>
:root{--bg:#f5f5f5;--card:#fff;--text:#333;--border:#ddd;--accent:#6366f1;--accent2:#818cf8;--muted:#888;--success:#22c55e;--result-bg:#eef2ff}
@media(prefers-color-scheme:dark){:root{--bg:#1a1a2e;--card:#16213e;--text:#e0e0e0;--border:#2a2a4a;--accent:#818cf8;--accent2:#a5b4fc;--muted:#999;--success:#4ade80;--result-bg:#1e1b4b}}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding:20px}
.container{max-width:700px;margin:0 auto}
h1{text-align:center;margin-bottom:8px;font-size:1.8rem}
.subtitle{text-align:center;color:var(--muted);margin-bottom:24px;font-size:.95rem}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px;margin-bottom:16px}
.card h2{font-size:1rem;margin-bottom:16px;color:var(--accent)}
.calc-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.calc-row span{font-size:.95rem;color:var(--muted);white-space:nowrap}
input[type=number]{width:120px;padding:10px;border:1px solid var(--border);border-radius:8px;font-size:1rem;background:var(--bg);color:var(--text);text-align:center;-moz-appearance:textfield}
input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none}
.result{background:var(--result-bg);border:2px solid var(--accent);border-radius:8px;padding:12px 16px;font-size:1.3rem;font-weight:700;color:var(--accent);text-align:center;min-height:48px;display:flex;align-items:center;justify-content:center;margin-top:8px;transition:all .2s}
.result.empty{border-color:var(--border);color:var(--muted);font-weight:400;font-size:1rem}
.btn-calc{padding:10px 16px;border:none;border-radius:8px;background:var(--accent);color:#fff;cursor:pointer;font-weight:600;font-size:.9rem;transition:all .2s}
.btn-calc:hover{background:var(--accent2)}
.divider{height:1px;background:var(--border);margin:20px 0}
.history{margin-top:12px}
.history-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border);font-size:.85rem}
.history-item:last-child{border:none}
.history-expr{color:var(--muted)}
.history-val{font-weight:600;color:var(--accent)}
.clear-btn{font-size:.8rem;color:var(--muted);background:none;border:none;cursor:pointer;text-decoration:underline;margin-top:8px}
.tip{background:var(--result-bg);border-radius:8px;padding:12px;font-size:.85rem;color:var(--muted);margin-top:12px}
</style>
</head>
<body>
<div class="container">
<h1>üî¢ Percentage Calculator</h1>
<p class="subtitle">All common percentage calculations in one place</p>

<!-- Calc 1: X% of Y -->
<div class="card">
<h2>1Ô∏è‚É£ What is X% of Y?</h2>
<div class="calc-row">
<span>What is</span>
<input type="number" id="c1x" placeholder="X" oninput="calc1()">
<span>% of</span>
<input type="number" id="c1y" placeholder="Y" oninput="calc1()">
<span>?</span>
</div>
<div class="result empty" id="r1">Enter values above</div>
</div>

<!-- Calc 2: X is what % of Y -->
<div class="card">
<h2>2Ô∏è‚É£ X is what % of Y?</h2>
<div class="calc-row">
<input type="number" id="c2x" placeholder="X" oninput="calc2()">
<span>is what % of</span>
<input type="number" id="c2y" placeholder="Y" oninput="calc2()">
<span>?</span>
</div>
<div class="result empty" id="r2">Enter values above</div>
</div>

<!-- Calc 3: % change -->
<div class="card">
<h2>3Ô∏è‚É£ Percentage Change</h2>
<div class="calc-row">
<span>From</span>
<input type="number" id="c3x" placeholder="Old" oninput="calc3()">
<span>to</span>
<input type="number" id="c3y" placeholder="New" oninput="calc3()">
</div>
<div class="result empty" id="r3">Enter values above</div>
</div>

<!-- Calc 4: Increase / Decrease -->
<div class="card">
<h2>4Ô∏è‚É£ Increase / Decrease by %</h2>
<div class="calc-row">
<input type="number" id="c4x" placeholder="Value" oninput="calc4()">
<span>+</span>
<input type="number" id="c4p" placeholder="%" oninput="calc4()">
<span>%</span>
</div>
<div class="result empty" id="r4">Enter values above</div>
</div>

<!-- Calc 5: Reverse % -->
<div class="card">
<h2>5Ô∏è‚É£ Reverse Percentage (find original)</h2>
<div class="calc-row">
<input type="number" id="c5x" placeholder="Final" oninput="calc5()">
<span>is the result after</span>
<input type="number" id="c5p" placeholder="%" oninput="calc5()">
<span>% increase. Original?</span>
</div>
<div class="result empty" id="r5">Enter values above</div>
</div>

<!-- Calc 6: Tip Calculator -->
<div class="card">
<h2>6Ô∏è‚É£ Quick Tip Calculator</h2>
<div class="calc-row">
<span>Bill:</span>
<input type="number" id="c6bill" placeholder="Amount" oninput="calc6()">
<span>Tip:</span>
<input type="number" id="c6tip" placeholder="%" value="15" oninput="calc6()">
<span>%</span>
<span>Split:</span>
<input type="number" id="c6split" placeholder="People" value="1" min="1" oninput="calc6()">
</div>
<div class="result empty" id="r6">Enter bill amount</div>
</div>

<div class="card">
<h2>üìú History</h2>
<div class="history" id="history"><p style="color:var(--muted);font-size:.85rem">Calculations will appear here</p></div>
<button class="clear-btn" onclick="clearHistory()">Clear history</button>
</div>
</div>
<script>
const hist=[];
function addHist(expr,val){hist.unshift({expr,val});if(hist.length>20)hist.pop();renderHist()}
function renderHist(){const h=document.getElementById('history');if(!hist.length){h.innerHTML='<p style="color:var(--muted);font-size:.85rem">Calculations will appear here</p>';return}h.innerHTML=hist.map(i=>`<div class="history-item"><span class="history-expr">${i.expr}</span><span class="history-val">${i.val}</span></div>`).join('')}
function clearHistory(){hist.length=0;renderHist()}
function fmt(n){return parseFloat(n.toFixed(6)).toLocaleString(undefined,{maximumFractionDigits:6})}
function setResult(id,val,empty){const el=document.getElementById(id);if(empty){el.textContent='Enter values above';el.classList.add('empty')}else{el.textContent=val;el.classList.remove('empty')}}

function calc1(){
  const x=parseFloat(document.getElementById('c1x').value),y=parseFloat(document.getElementById('c1y').value);
  if(isNaN(x)||isNaN(y)){setResult('r1','',true);return}
  const r=x/100*y;setResult('r1',fmt(r));addHist(`${x}% of ${y}`,fmt(r));
}
function calc2(){
  const x=parseFloat(document.getElementById('c2x').value),y=parseFloat(document.getElementById('c2y').value);
  if(isNaN(x)||isNaN(y)||y===0){setResult('r2','',true);return}
  const r=x/y*100;setResult('r2',fmt(r)+'%');addHist(`${x} is ?% of ${y}`,fmt(r)+'%');
}
function calc3(){
  const x=parseFloat(document.getElementById('c3x').value),y=parseFloat(document.getElementById('c3y').value);
  if(isNaN(x)||isNaN(y)||x===0){setResult('r3','',true);return}
  const r=(y-x)/x*100;const dir=r>=0?'üìà +':'üìâ ';
  setResult('r3',`${dir}${fmt(Math.abs(r))}%`);addHist(`${x} ‚Üí ${y}`,`${dir}${fmt(Math.abs(r))}%`);
}
function calc4(){
  const x=parseFloat(document.getElementById('c4x').value),p=parseFloat(document.getElementById('c4p').value);
  if(isNaN(x)||isNaN(p)){setResult('r4','',true);return}
  const inc=x*(1+p/100),dec=x*(1-p/100);
  setResult('r4',`+${p}% = ${fmt(inc)}  |  ‚àí${p}% = ${fmt(dec)}`);addHist(`${x} ¬±${p}%`,`${fmt(inc)} / ${fmt(dec)}`);
}
function calc5(){
  const x=parseFloat(document.getElementById('c5x').value),p=parseFloat(document.getElementById('c5p').value);
  if(isNaN(x)||isNaN(p)||p===-100){setResult('r5','',true);return}
  const r=x/(1+p/100);setResult('r5',fmt(r));addHist(`${x} after ${p}% increase, original`,fmt(r));
}
function calc6(){
  const bill=parseFloat(document.getElementById('c6bill').value),tip=parseFloat(document.getElementById('c6tip').value),split=parseInt(document.getElementById('c6split').value)||1;
  if(isNaN(bill)){setResult('r6','',true);return}
  const tipAmt=bill*(tip||0)/100,total=bill+tipAmt,per=total/split;
  let txt=`Tip: $${fmt(tipAmt)} | Total: $${fmt(total)}`;
  if(split>1)txt+=` | Per person: $${fmt(per)}`;
  setResult('r6',txt);
}
</script>
</body>
</html>
