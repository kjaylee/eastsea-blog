<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Regex Playground â€” ë¹„ì£¼ì–¼ ì •ê·œì‹ í…ŒìŠ¤í„°</title>
<meta name="description" content="ì‹¤ì‹œê°„ ì •ê·œì‹ í…ŒìŠ¤íŠ¸, ë§¤ì¹­ í•˜ì´ë¼ì´íŠ¸, ê·¸ë£¹ ìº¡ì²˜ í…Œì´ë¸”, íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í¬í•¨ëœ ì •ê·œì‹ ë†€ì´í„°">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#f8f9fa;--bg2:#fff;--bg3:#e9ecef;--tx:#212529;--tx2:#6c757d;--bd:#dee2e6;--ac:#667eea;--ac2:#764ba2;--hl:rgba(102,126,234,.2);--hl-border:rgba(102,126,234,.6);--match-bg:#fef08a;--match-tx:#854d0e;--grp1:#bbf7d0;--grp2:#bfdbfe;--grp3:#fbcfe8;--grp4:#fde68a;--grp5:#c4b5fd;--err:#ef4444;--radius:12px;--shadow:0 4px 16px rgba(0,0,0,.08)}
[data-theme="dark"]{--bg:#111;--bg2:#1e1e1e;--bg3:#2a2a2a;--tx:#e5e5e5;--tx2:#999;--bd:#333;--hl:rgba(102,126,234,.25);--match-bg:#854d0e;--match-tx:#fef08a;--grp1:#166534;--grp2:#1e40af;--grp3:#9d174d;--grp4:#92400e;--grp5:#5b21b6;--shadow:0 4px 16px rgba(0,0,0,.4)}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans KR',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;padding:16px;transition:background .3s,color .3s}
.container{max-width:960px;margin:0 auto}
header{text-align:center;padding:24px 0 16px}
h1{font-size:1.8rem;background:linear-gradient(135deg,var(--ac),var(--ac2));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.subtitle{color:var(--tx2);margin-top:4px;font-size:.95rem}
.theme-btn{position:fixed;top:12px;right:12px;width:40px;height:40px;border-radius:50%;border:2px solid var(--bd);background:var(--bg2);cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;z-index:100;box-shadow:var(--shadow);transition:transform .2s}
.theme-btn:hover{transform:scale(1.1)}
.card{background:var(--bg2);border-radius:var(--radius);padding:20px;margin-bottom:16px;box-shadow:var(--shadow);border:1px solid var(--bd)}
.card-title{font-weight:700;margin-bottom:12px;font-size:1rem;display:flex;align-items:center;gap:8px}
label{font-weight:600;display:block;margin-bottom:6px;font-size:.85rem;color:var(--tx2)}
.regex-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.regex-input{flex:1;min-width:200px;font-family:'Fira Code',monospace;font-size:1rem;padding:10px 14px;border:2px solid var(--bd);border-radius:8px;background:var(--bg);color:var(--tx);outline:none;transition:border-color .2s}
.regex-input:focus{border-color:var(--ac)}
.regex-input.error{border-color:var(--err)}
.flags{display:flex;gap:4px;flex-wrap:wrap}
.flag-btn{padding:6px 10px;border-radius:6px;border:2px solid var(--bd);background:var(--bg);color:var(--tx);cursor:pointer;font-family:monospace;font-weight:700;font-size:.85rem;transition:all .15s}
.flag-btn.active{background:var(--ac);color:#fff;border-color:var(--ac)}
.error-msg{color:var(--err);font-size:.8rem;margin-top:4px;min-height:1.2em}
.test-area{width:100%;min-height:120px;padding:12px;border:2px solid var(--bd);border-radius:8px;background:var(--bg);color:var(--tx);font-family:'Fira Code',monospace;font-size:.9rem;line-height:1.7;resize:vertical;outline:none;transition:border-color .2s}
.test-area:focus{border-color:var(--ac)}
.highlight-layer{position:relative;width:100%;min-height:120px;border-radius:8px;overflow:hidden}
.highlight-bg{position:absolute;inset:0;padding:12px;font-family:'Fira Code',monospace;font-size:.9rem;line-height:1.7;white-space:pre-wrap;word-wrap:break-word;pointer-events:none;color:transparent;border:2px solid transparent}
.highlight-bg mark{background:var(--match-bg);color:var(--match-tx);border-radius:3px;padding:0 1px}
.highlight-bg mark.g1{background:var(--grp1)}.highlight-bg mark.g2{background:var(--grp2)}.highlight-bg mark.g3{background:var(--grp3)}.highlight-bg mark.g4{background:var(--grp4)}.highlight-bg mark.g5{background:var(--grp5)}
.stats{display:flex;gap:16px;flex-wrap:wrap;margin-top:8px;font-size:.85rem;color:var(--tx2)}
.stats span{font-weight:700;color:var(--ac)}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:8px}
.lib-item{padding:10px 12px;border:1px solid var(--bd);border-radius:8px;cursor:pointer;transition:all .15s;background:var(--bg)}
.lib-item:hover{border-color:var(--ac);background:var(--hl)}
.lib-item .lname{font-weight:600;font-size:.85rem;margin-bottom:2px}
.lib-item .lpat{font-family:monospace;font-size:.75rem;color:var(--tx2);word-break:break-all}
table{width:100%;border-collapse:collapse;font-size:.85rem}
th,td{padding:8px 10px;text-align:left;border-bottom:1px solid var(--bd)}
th{background:var(--bg3);font-weight:700;position:sticky;top:0}
td{font-family:'Fira Code',monospace;word-break:break-all}
.table-wrap{max-height:300px;overflow:auto;border-radius:8px;border:1px solid var(--bd)}
.empty-msg{text-align:center;padding:20px;color:var(--tx2);font-size:.9rem}
@media(max-width:600px){h1{font-size:1.4rem}.regex-row{flex-direction:column}.regex-input{min-width:100%}.lib-grid{grid-template-columns:1fr 1fr}.stats{gap:8px;font-size:.8rem}}
</style>
</head>
<body>
<button class="theme-btn" onclick="toggleTheme()">ğŸŒ“</button>
<div class="container">
<header>
<h1>ğŸ” Regex Playground</h1>
<p class="subtitle">ì‹¤ì‹œê°„ ì •ê·œì‹ í…ŒìŠ¤íŠ¸ Â· ë§¤ì¹­ í•˜ì´ë¼ì´íŠ¸ Â· ê·¸ë£¹ ìº¡ì²˜</p>
</header>

<div class="card">
<div class="card-title">ğŸ“ ì •ê·œì‹ íŒ¨í„´</div>
<div class="regex-row">
<span style="font-size:1.2rem;color:var(--tx2)">/</span>
<input class="regex-input" id="regexInput" value="(\w+)@(\w+)\.(\w+)" placeholder="íŒ¨í„´ ì…ë ¥..." spellcheck="false">
<span style="font-size:1.2rem;color:var(--tx2)">/</span>
<div class="flags" id="flags"></div>
</div>
<div class="error-msg" id="errorMsg"></div>
</div>

<div class="card">
<div class="card-title">ğŸ“‹ í…ŒìŠ¤íŠ¸ ë¬¸ìì—´</div>
<div class="highlight-layer">
<div class="highlight-bg" id="highlightBg"></div>
<textarea class="test-area" id="testArea" spellcheck="false">hello@example.comìœ¼ë¡œ ì—°ë½ì£¼ì„¸ìš”.
ë˜ëŠ” test.user@domain.orgë¡œ ë³´ë‚´ì„¸ìš”.
ì „í™”ë²ˆí˜¸: 010-1234-5678, 02-987-6543
URL: https://example.com/path?q=hello&lang=ko
æ—¥æœ¬èªãƒ†ã‚¹ãƒˆ: user@æ—¥æœ¬.jp
IPv4: 192.168.0.1, IPv6: fe80::1</textarea>
</div>
<div class="stats" id="stats"></div>
</div>

<div class="card">
<div class="card-title">ğŸ“š íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬</div>
<div class="lib-grid" id="library"></div>
</div>

<div class="card">
<div class="card-title">ğŸ“Š ë§¤ì¹˜ ê²°ê³¼ & ê·¸ë£¹ ìº¡ì²˜</div>
<div class="table-wrap" id="tableWrap">
<div class="empty-msg">ì •ê·œì‹ì„ ì…ë ¥í•˜ë©´ ë§¤ì¹­ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
</div>
</div>
</div>

<script>
const FLAG_LIST=['g','i','m','s','u','d'];
const PATTERNS=[
{name:'ì´ë©”ì¼',pattern:'[\\w.-]+@[\\w.-]+\\.\\w{2,}',flags:'gi'},
{name:'URL',pattern:'https?://[\\w.-]+(?:/[\\w./?%&=@#-]*)?',flags:'gi'},
{name:'ì „í™”ë²ˆí˜¸ (í•œêµ­)',pattern:'0\\d{1,2}-\\d{3,4}-\\d{4}',flags:'g'},
{name:'IPv4 ì£¼ì†Œ',pattern:'\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b',flags:'g'},
{name:'HEX ìƒ‰ìƒ',pattern:'#(?:[0-9a-fA-F]{3}){1,2}\\b',flags:'gi'},
{name:'HTML íƒœê·¸',pattern:'<\\/?[a-z][\\w-]*(?:\\s[^>]*)?>',flags:'gi'},
{name:'ë‚ ì§œ (YYYY-MM-DD)',pattern:'\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])',flags:'g'},
{name:'ì‹œê°„ (HH:MM)',pattern:'(?:[01]\\d|2[0-3]):[0-5]\\d',flags:'g'},
{name:'í•œê¸€ë§Œ',pattern:'[ê°€-í£]+',flags:'g'},
{name:'CJK ë¬¸ì',pattern:'[\\u3000-\\u9FFF\\uF900-\\uFAFF]+',flags:'g'},
{name:'ìˆ«ìë§Œ',pattern:'\\d+',flags:'g'},
{name:'ì˜ë¬¸ ë‹¨ì–´',pattern:'[a-zA-Z]+',flags:'g'},
{name:'ë”°ì˜´í‘œ ë‚´ìš©',pattern:`"([^"]*)"`,flags:'g'},
{name:'ê´„í˜¸ ë‚´ìš©',pattern:'\\(([^)]+)\\)',flags:'g'},
{name:'ê³µë°± ì •ë¦¬',pattern:'\\s{2,}',flags:'g'},
{name:'UUID',pattern:'[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}',flags:'gi'}
];
const GRP_COLORS=['g1','g2','g3','g4','g5'];
let activeFlags=new Set(['g','i']);
const $=id=>document.getElementById(id);

function initFlags(){
const cont=$('flags');
FLAG_LIST.forEach(f=>{
const btn=document.createElement('button');
btn.className='flag-btn'+(activeFlags.has(f)?' active':'');
btn.textContent=f;
btn.title={g:'global',i:'case-insensitive',m:'multiline',s:'dotAll',u:'unicode',d:'hasIndices'}[f];
btn.onclick=()=>{activeFlags.has(f)?activeFlags.delete(f):activeFlags.add(f);btn.classList.toggle('active');run()};
cont.appendChild(btn);
});
}

function initLibrary(){
const cont=$('library');
PATTERNS.forEach(p=>{
const d=document.createElement('div');
d.className='lib-item';
d.innerHTML=`<div class="lname">${p.name}</div><div class="lpat">${p.pattern}</div>`;
d.onclick=()=>{$('regexInput').value=p.pattern;activeFlags=new Set(p.flags.split(''));document.querySelectorAll('.flag-btn').forEach((b,i)=>{b.classList.toggle('active',activeFlags.has(FLAG_LIST[i]))});run()};
cont.appendChild(d);
});
}

function escapeHtml(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}

function run(){
const pattern=$('regexInput').value;
const text=$('testArea').value;
const errEl=$('errorMsg');
const hlEl=$('highlightBg');
const statsEl=$('stats');
const tableEl=$('tableWrap');
errEl.textContent='';
if(!pattern){hlEl.innerHTML=escapeHtml(text);statsEl.innerHTML='';tableEl.innerHTML='<div class="empty-msg">ì •ê·œì‹ì„ ì…ë ¥í•˜ë©´ ë§¤ì¹­ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>';return}
let regex;
try{regex=new RegExp(pattern,[...activeFlags].join(''))}catch(e){errEl.textContent='âš  '+e.message;hlEl.innerHTML=escapeHtml(text);statsEl.innerHTML='';tableEl.innerHTML='';$('regexInput').classList.add('error');return}
$('regexInput').classList.remove('error');
const matches=[];
if(activeFlags.has('g')){let m;while((m=regex.exec(text))!==null){matches.push({full:m[0],index:m.index,groups:m.slice(1)});if(m[0].length===0){regex.lastIndex++}}}else{const m=text.match(regex);if(m){matches.push({full:m[0],index:text.indexOf(m[0]),groups:m.slice(1)})}}
// Highlight
let html='';let lastIdx=0;
const sorted=[...matches].sort((a,b)=>a.index-b.index);
sorted.forEach(m=>{
if(m.index>=lastIdx){
html+=escapeHtml(text.slice(lastIdx,m.index));
html+=`<mark>${escapeHtml(m.full)}</mark>`;
lastIdx=m.index+m.full.length;
}
});
html+=escapeHtml(text.slice(lastIdx));
hlEl.innerHTML=html;
// Stats
const totalChars=matches.reduce((s,m)=>s+m.full.length,0);
statsEl.innerHTML=`ë§¤ì¹˜ <span>${matches.length}</span>ê°œ Â· ì´ <span>${totalChars}</span>ì ë§¤ì¹˜ë¨`;
// Table
if(matches.length===0){tableEl.innerHTML='<div class="empty-msg">ë§¤ì¹­ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>';return}
const hasGroups=matches.some(m=>m.groups.length>0);
const maxG=Math.max(...matches.map(m=>m.groups.length));
let t='<table><thead><tr><th>#</th><th>ì „ì²´ ë§¤ì¹˜</th><th>ìœ„ì¹˜</th>';
for(let i=0;i<maxG;i++) t+=`<th style="background:var(--${GRP_COLORS[i%5]})">Group ${i+1}</th>`;
t+='</tr></thead><tbody>';
matches.forEach((m,idx)=>{
t+=`<tr><td>${idx+1}</td><td>${escapeHtml(m.full)}</td><td>${m.index}</td>`;
for(let i=0;i<maxG;i++) t+=`<td>${m.groups[i]!==undefined?escapeHtml(m.groups[i]):'<span style="color:var(--tx2)">â€”</span>'}</td>`;
t+='</tr>';
});
t+='</tbody></table>';
tableEl.innerHTML=t;
}

function syncScroll(){$('highlightBg').scrollTop=$('testArea').scrollTop;$('highlightBg').scrollLeft=$('testArea').scrollLeft}

function toggleTheme(){const t=document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark';document.documentElement.setAttribute('data-theme',t);localStorage.setItem('rp-theme',t)}

(function init(){
const saved=localStorage.getItem('rp-theme')||(matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light');
document.documentElement.setAttribute('data-theme',saved);
initFlags();initLibrary();
$('regexInput').addEventListener('input',run);
$('testArea').addEventListener('input',run);
$('testArea').addEventListener('scroll',syncScroll);
run();
})();
</script>
</body>
</html>
