<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìˆ˜ë©´ ì‚¬ì´í´ ê³„ì‚°ê¸° | East Sea Tools</title>
<meta name="description" content="ìˆ˜ë©´ ì‚¬ì´í´ì— ë§ì¶° ìµœì ì˜ ê¸°ìƒ/ì·¨ì¹¨ ì‹œê°„ì„ ê³„ì‚°í•©ë‹ˆë‹¤. 90ë¶„ ì‚¬ì´í´ ê¸°ë°˜ìœ¼ë¡œ ê°œìš´í•œ ì•„ì¹¨ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#4F46E5;--primary-light:#6366F1;--bg:#f8fafc;--surface:#fff;--text:#1e293b;--text-secondary:#64748b;--border:#e2e8f0;--shadow:0 1px 3px rgba(0,0,0,.1);--radius:12px;--sleep:#7c3aed}
@media(prefers-color-scheme:dark){:root{--bg:#0f172a;--surface:#1e293b;--text:#f1f5f9;--text-secondary:#94a3b8;--border:#334155;--shadow:0 1px 3px rgba(0,0,0,.3)}}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px}
.container{max-width:560px;width:100%}
h1{font-size:1.8rem;text-align:center;margin:20px 0 8px;color:var(--sleep)}
.desc{text-align:center;color:var(--text-secondary);margin-bottom:24px;font-size:.95rem}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:16px;box-shadow:var(--shadow)}
.tabs{display:flex;gap:4px;margin-bottom:20px;background:var(--bg);border-radius:8px;padding:4px}
.tab{flex:1;padding:10px;text-align:center;border:none;background:none;border-radius:6px;cursor:pointer;font-weight:600;font-size:.9rem;color:var(--text-secondary);transition:all .2s}
.tab.active{background:var(--sleep);color:#fff}
label{display:block;font-weight:600;margin-bottom:6px;font-size:.9rem}
input[type="time"]{width:100%;padding:14px;border:1px solid var(--border);border-radius:8px;font-size:1.2rem;background:var(--bg);color:var(--text);margin-bottom:16px;text-align:center}
input:focus{outline:none;border-color:var(--sleep);box-shadow:0 0 0 3px rgba(124,58,237,.15)}
.btn{width:100%;padding:14px;background:var(--sleep);color:#fff;border:none;border-radius:8px;font-size:1.05rem;font-weight:600;cursor:pointer;transition:background .2s}
.btn:hover{opacity:.9}
.results{display:none}
.time-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}
@media(max-width:400px){.time-cards{grid-template-columns:1fr}}
.time-card{background:var(--bg);border:2px solid var(--border);border-radius:var(--radius);padding:16px;text-align:center;transition:all .2s}
.time-card.recommended{border-color:var(--sleep);background:rgba(124,58,237,.05)}
.time-card .cycles{font-size:.75rem;color:var(--text-secondary);margin-bottom:4px}
.time-card .time{font-size:1.6rem;font-weight:700;color:var(--text)}
.time-card.recommended .time{color:var(--sleep)}
.time-card .duration{font-size:.8rem;color:var(--text-secondary);margin-top:4px}
.time-card .quality{display:inline-block;margin-top:6px;padding:2px 8px;border-radius:10px;font-size:.7rem;font-weight:600}
.quality-best{background:rgba(16,185,129,.15);color:#059669}
.quality-good{background:rgba(59,130,246,.15);color:#2563eb}
.quality-ok{background:rgba(245,158,11,.15);color:#d97706}
.quality-short{background:rgba(239,68,68,.15);color:#dc2626}
.info{background:var(--bg);border-radius:8px;padding:16px;margin-top:16px;font-size:.85rem;color:var(--text-secondary);line-height:1.7}
.now-btn{background:none;border:1px solid var(--border);border-radius:6px;padding:6px 12px;cursor:pointer;font-size:.8rem;color:var(--text-secondary);margin-bottom:8px}
.now-btn:hover{border-color:var(--sleep);color:var(--sleep)}
footer{text-align:center;padding:32px 0 16px;color:var(--text-secondary);font-size:.8rem}
</style>
</head>
<body>
<div class="container">
<h1>ğŸ˜´ ìˆ˜ë©´ ì‚¬ì´í´ ê³„ì‚°ê¸°</h1>
<p class="desc">90ë¶„ ìˆ˜ë©´ ì‚¬ì´í´ì— ë§ì¶° ìµœì ì˜ ê¸°ìƒ/ì·¨ì¹¨ ì‹œê°„ì„ ì°¾ì•„ë³´ì„¸ìš”.</p>

<div class="card">
<div class="tabs">
<button class="tab active" onclick="setMode('sleep')">ğŸ˜´ ì§€ê¸ˆ ìë ¤ë©´</button>
<button class="tab" onclick="setMode('wake')">â° ì´ë•Œ ì¼ì–´ë‚˜ë ¤ë©´</button>
</div>

<div id="sleepMode">
<label>ì§€ê¸ˆ ì ë“¤ ì‹œê°„</label>
<button class="now-btn" onclick="setNow('sleepTime')">â±ï¸ í˜„ì¬ ì‹œê°„</button>
<input type="time" id="sleepTime">
<button class="btn" onclick="calcWakeUp()">â° ê¸°ìƒ ì‹œê°„ ê³„ì‚°</button>
</div>

<div id="wakeMode" style="display:none">
<label>ì¼ì–´ë‚˜ì•¼ í•  ì‹œê°„</label>
<input type="time" id="wakeTime" value="07:00">
<button class="btn" onclick="calcBedTime()">ğŸ˜´ ì·¨ì¹¨ ì‹œê°„ ê³„ì‚°</button>
</div>
</div>

<div class="card results" id="results">
<h3 id="resultTitle" style="margin-bottom:4px"></h3>
<p style="font-size:.85rem;color:var(--text-secondary);margin-bottom:8px" id="resultDesc"></p>
<div class="time-cards" id="timeCards"></div>
</div>

<div class="card">
<div class="info">
<strong>ğŸ’¤ ìˆ˜ë©´ ì‚¬ì´í´ì´ë€?</strong><br><br>
í•˜ë‚˜ì˜ ìˆ˜ë©´ ì‚¬ì´í´ì€ ì•½ <strong>90ë¶„</strong>ì…ë‹ˆë‹¤.<br>
â€¢ ì…ë©´ ì‹œê°„: ì•½ <strong>15ë¶„</strong> ì†Œìš”<br>
â€¢ 4~5 ì‚¬ì´í´ (6~7.5ì‹œê°„) = ì ì • ìˆ˜ë©´<br>
â€¢ 6 ì‚¬ì´í´ (9ì‹œê°„) = ì¶©ë¶„í•œ ìˆ˜ë©´<br><br>
ì‚¬ì´í´ ë„ì¤‘ì— ê¹¨ë©´ í”¼ê³¤í•˜ê³ , ì‚¬ì´í´ì´ ëë‚  ë•Œ ê¹¨ë©´ ê°œìš´í•©ë‹ˆë‹¤.<br>
ì´ ê³„ì‚°ê¸°ëŠ” <strong>ì‚¬ì´í´ ì¢…ë£Œ ì‹œì </strong>ì— ë§ì¶° ê¸°ìƒ ì‹œê°„ì„ ì¶”ì²œí•©ë‹ˆë‹¤.
</div>
</div>
</div>
<footer>Â© 2026 East Sea</footer>

<script>
const CYCLE=90; // minutes
const FALL_ASLEEP=15; // minutes

let mode='sleep';

function setMode(m){
mode=m;
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
event.target.classList.add('active');
document.getElementById('sleepMode').style.display=m==='sleep'?'block':'none';
document.getElementById('wakeMode').style.display=m==='wake'?'block':'none';
document.getElementById('results').style.display='none';
}

function setNow(id){
const now=new Date();
const h=String(now.getHours()).padStart(2,'0');
const m=String(now.getMinutes()).padStart(2,'0');
document.getElementById(id).value=h+':'+m;
}

function parseTime(val){
const[h,m]=val.split(':').map(Number);
return h*60+m;
}

function formatTime(totalMin){
totalMin=((totalMin%1440)+1440)%1440;
const h=Math.floor(totalMin/60);
const m=totalMin%60;
const period=h<12?'ì˜¤ì „':'ì˜¤í›„';
const h12=h===0?12:h>12?h-12:h;
return period+' '+h12+':'+String(m).padStart(2,'0');
}

function getQuality(cycles){
if(cycles>=5&&cycles<=6)return{label:'ìµœì ',cls:'quality-best'};
if(cycles===4)return{label:'ì¢‹ìŒ',cls:'quality-good'};
if(cycles===3)return{label:'ë³´í†µ',cls:'quality-ok'};
return{label:'ë¶€ì¡±',cls:'quality-short'};
}

function calcWakeUp(){
const val=document.getElementById('sleepTime').value;
if(!val){alert('ì ë“¤ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.');return;}
const sleepMin=parseTime(val)+FALL_ASLEEP;

const cards=[];
for(let c=6;c>=3;c--){
const wakeMin=sleepMin+c*CYCLE;
const dur=c*CYCLE;
const q=getQuality(c);
cards.push({time:formatTime(wakeMin),cycles:c,duration:`${Math.floor(dur/60)}ì‹œê°„ ${dur%60}ë¶„`,quality:q,recommended:c===5||c===6});
}

renderResults('â° ì¶”ì²œ ê¸°ìƒ ì‹œê°„','ì‚¬ì´í´ ì™„ë£Œ ì‹œì ì— ë§ì¶˜ ê¸°ìƒ ì‹œê°„ì…ë‹ˆë‹¤.',cards);
}

function calcBedTime(){
const val=document.getElementById('wakeTime').value;
if(!val){alert('ê¸°ìƒ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.');return;}
const wakeMin=parseTime(val);

const cards=[];
for(let c=6;c>=3;c--){
const bedMin=wakeMin-c*CYCLE-FALL_ASLEEP;
const dur=c*CYCLE;
const q=getQuality(c);
cards.push({time:formatTime(bedMin),cycles:c,duration:`${Math.floor(dur/60)}ì‹œê°„ ${dur%60}ë¶„`,quality:q,recommended:c===5||c===6});
}

renderResults('ğŸ˜´ ì¶”ì²œ ì·¨ì¹¨ ì‹œê°„','ì´ ì‹œê°„ì— ì ë“¤ë©´ ì‚¬ì´í´ì— ë§ì¶° ê¹° ìˆ˜ ìˆìŠµë‹ˆë‹¤.',cards);
}

function renderResults(title,desc,cards){
document.getElementById('resultTitle').textContent=title;
document.getElementById('resultDesc').textContent=desc;
const el=document.getElementById('timeCards');
el.innerHTML=cards.map(c=>`
<div class="time-card${c.recommended?' recommended':''}">
<div class="cycles">${c.cycles} ì‚¬ì´í´</div>
<div class="time">${c.time}</div>
<div class="duration">${c.duration} ìˆ˜ë©´</div>
<span class="quality ${c.quality.cls}">${c.quality.label}</span>
</div>
`).join('');
document.getElementById('results').style.display='block';
}

// Auto-set current time
setNow('sleepTime');
</script>
</body>
</html>
