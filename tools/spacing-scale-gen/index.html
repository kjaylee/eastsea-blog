<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤í˜ì´ì‹± ìŠ¤ì¼€ì¼ ìƒì„±ê¸° | ì›¹ ë„êµ¬ ëª¨ìŒ</title>
    <style>
        :root{--bg-primary:#fff;--bg-secondary:#f8f9fa;--text-primary:#212529;--text-secondary:#6c757d;--accent:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--border:#dee2e6;--shadow:rgba(0,0,0,.1);--card-bg:#fff}
        [data-theme="dark"]{--bg-primary:#1a1a1a;--bg-secondary:#121212;--text-primary:#f8f9fa;--text-secondary:#adb5bd;--border:#444;--shadow:rgba(0,0,0,.3);--card-bg:#2d2d2d}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans KR',sans-serif;background:var(--bg-secondary);color:var(--text-primary);line-height:1.6;padding:20px;min-height:100vh}
        .container{max-width:900px;margin:0 auto}
        header{display:flex;align-items:center;justify-content:space-between;margin-bottom:30px}
        .back-btn{text-decoration:none;color:var(--text-secondary);display:flex;align-items:center;gap:5px;font-weight:500}.back-btn:hover{color:var(--text-primary)}
        .theme-toggle{background:none;border:none;cursor:pointer;font-size:1.5rem}
        .card{background:var(--card-bg);border-radius:20px;padding:30px;box-shadow:0 10px 30px var(--shadow);border:1px solid var(--border);margin-bottom:20px}
        h1{font-size:1.8rem;margin-bottom:10px;background:var(--accent);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
        .desc{color:var(--text-secondary);margin-bottom:20px}
        label{display:block;font-weight:600;margin-bottom:6px;font-size:.9rem}
        select,input{width:100%;padding:12px;border:2px solid var(--border);border-radius:12px;background:var(--bg-primary);color:var(--text-primary);font-size:1rem;outline:none;font-family:inherit;margin-bottom:16px}
        select:focus,input:focus{border-color:#667eea}
        .row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px}
        .preset-row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px}
        .preset-btn{padding:8px 14px;border:1px solid var(--border);border-radius:10px;cursor:pointer;font-size:.85rem;background:var(--bg-primary);color:var(--text-primary);transition:all .2s}
        .preset-btn:hover{border-color:#667eea}
        .preset-btn.active{border-color:#667eea;background:rgba(102,126,234,.1)}
        .spacing-list{margin-bottom:20px}
        .spacing-item{display:flex;align-items:center;gap:16px;padding:12px;border:1px solid var(--border);border-radius:12px;margin-bottom:8px;transition:border-color .2s}
        .spacing-item:hover{border-color:#667eea}
        .sp-label{font-family:'Courier New',monospace;font-weight:600;min-width:60px;font-size:.85rem;color:#667eea}
        .sp-bar{height:24px;background:var(--accent);border-radius:6px;transition:width .3s;min-width:2px}
        .sp-values{font-family:'Courier New',monospace;font-size:.8rem;color:var(--text-secondary);min-width:180px;text-align:right}
        .sp-visual-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));margin-bottom:20px}
        .sp-visual-box{text-align:center}
        .sp-square{background:rgba(102,126,234,.15);border:2px dashed rgba(102,126,234,.4);border-radius:8px;margin:0 auto 6px;display:flex;align-items:center;justify-content:center;font-size:.7rem;color:var(--text-secondary)}
        .sp-sq-label{font-family:'Courier New',monospace;font-size:.75rem;color:var(--text-secondary)}
        .tab-row{display:flex;gap:4px;margin-bottom:12px}
        .tab{padding:8px 16px;border:1px solid var(--border);border-radius:10px;cursor:pointer;font-size:.85rem;background:var(--bg-secondary);color:var(--text-secondary)}
        .tab.active{background:var(--card-bg);color:var(--text-primary);font-weight:600;border-color:#667eea}
        .output-box{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:16px;font-family:'Courier New',monospace;font-size:.85rem;white-space:pre-wrap;min-height:100px;position:relative;overflow:auto;max-height:400px}
        .copy-btn{position:absolute;top:10px;right:10px;padding:6px 12px;background:var(--card-bg);border:1px solid var(--border);border-radius:8px;cursor:pointer;font-size:.8rem;color:var(--text-primary)}
        @media(max-width:600px){.row{grid-template-columns:1fr}.sp-values{min-width:120px;font-size:.7rem}}
    </style>
</head>
<body>
<div class="container">
    <header>
        <a href="../" class="back-btn">â† ëª©ë¡ìœ¼ë¡œ</a>
        <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
    </header>
    <div class="card">
        <h1>ğŸ“ ìŠ¤í˜ì´ì‹± ìŠ¤ì¼€ì¼ ìƒì„±ê¸°</h1>
        <p class="desc">8px ê·¸ë¦¬ë“œ ê¸°ë°˜ ìŠ¤í˜ì´ì‹± ìŠ¤ì¼€ì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ë””ìì¸ ì‹œìŠ¤í…œìš© ê°„ê²© í† í°ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
        <div class="preset-row">
            <button class="preset-btn" onclick="setPreset('4px')">4px Grid</button>
            <button class="preset-btn active" onclick="setPreset('8px')">8px Grid</button>
            <button class="preset-btn" onclick="setPreset('tailwind')">Tailwind</button>
            <button class="preset-btn" onclick="setPreset('bootstrap')">Bootstrap</button>
            <button class="preset-btn" onclick="setPreset('material')">Material 3</button>
            <button class="preset-btn" onclick="setPreset('fibonacci')">Fibonacci</button>
        </div>
        <div class="row">
            <div>
                <label for="baseUnit">ê¸°ë³¸ ë‹¨ìœ„ (px)</label>
                <input type="number" id="baseUnit" value="8" min="2" max="16" step="1" oninput="generate()">
            </div>
            <div>
                <label for="scaleType">ìŠ¤ì¼€ì¼ ë°©ì‹</label>
                <select id="scaleType" onchange="generate()">
                    <option value="linear">Linear (ë°°ìˆ˜)</option>
                    <option value="geometric">Geometric (ë¹„ìœ¨)</option>
                    <option value="fibonacci">Fibonacci</option>
                    <option value="custom">Custom (ì§ì ‘ ì…ë ¥)</option>
                </select>
            </div>
            <div>
                <label for="outputUnit">ì¶œë ¥ ë‹¨ìœ„</label>
                <select id="outputUnit" onchange="generate()">
                    <option value="rem">rem</option>
                    <option value="px">px</option>
                    <option value="em">em</option>
                </select>
            </div>
        </div>
        <div id="customInput" style="display:none">
            <label for="customValues">ì»¤ìŠ¤í…€ ê°’ (px, ì‰¼í‘œ êµ¬ë¶„)</label>
            <input type="text" id="customValues" placeholder="0, 4, 8, 12, 16, 24, 32, 48, 64, 96" oninput="generate()">
        </div>
    </div>

    <div class="card">
        <label>ë°” ì°¨íŠ¸</label>
        <div class="spacing-list" id="barChart"></div>
    </div>

    <div class="card">
        <label>ì‹œê°ì  ë¹„êµ</label>
        <div class="sp-visual-grid" id="visualGrid"></div>
    </div>

    <div class="card">
        <div class="tab-row">
            <div class="tab active" onclick="showCode('css',this)">CSS</div>
            <div class="tab" onclick="showCode('tailwind',this)">Tailwind</div>
            <div class="tab" onclick="showCode('scss',this)">SCSS</div>
            <div class="tab" onclick="showCode('json',this)">JSON</div>
            <div class="tab" onclick="showCode('figma',this)">Figma Tokens</div>
        </div>
        <div class="output-box" id="codeOutput"><button class="copy-btn" onclick="copyCode()">ë³µì‚¬</button></div>
    </div>
</div>
<script>
const LABELS = ['0','px','0.5','1','1.5','2','2.5','3','3.5','4','5','6','7','8','9','10','11','12','14','16','20','24','28','32','36','40','44','48','52','56','60','64','72','80','96'];
let spacing = [];
let currentTab = 'css';

function generate(){
    const base = parseInt(document.getElementById('baseUnit').value)||8;
    const type = document.getElementById('scaleType').value;
    const unit = document.getElementById('outputUnit').value;

    document.getElementById('customInput').style.display = type==='custom'?'block':'none';

    let pxValues = [];
    if(type==='linear'){
        pxValues = [0,1,base*0.5,base,base*1.5,base*2,base*2.5,base*3,base*3.5,base*4,base*5,base*6,base*7,base*8,base*9,base*10,base*11,base*12,base*14,base*16,base*20,base*24,base*28,base*32];
    } else if(type==='geometric'){
        const r = 1.5;
        pxValues = [0];
        let v = base;
        for(let i=0;i<12;i++){pxValues.push(Math.round(v));v*=r}
    } else if(type==='fibonacci'){
        const fib = [0,1,1,2,3,5,8,13,21,34,55,89];
        pxValues = fib.map(f=>f*base);
    } else {
        const raw = document.getElementById('customValues').value;
        pxValues = raw.split(',').map(v=>parseInt(v.trim())).filter(v=>!isNaN(v));
        if(!pxValues.length) pxValues=[0,4,8,12,16,24,32,48,64,96];
    }

    spacing = pxValues.map((px,i)=>{
        const label = i < LABELS.length ? LABELS[i] : String(i);
        let val;
        if(unit==='rem') val = (px/16).toFixed(3).replace(/0+$/,'').replace(/\.$/,'');
        else if(unit==='em') val = (px/16).toFixed(3).replace(/0+$/,'').replace(/\.$/,'');
        else val = String(px);
        return {label, px, val: val+unit, name: `space-${i}`};
    });

    renderBars();
    renderVisual();
    showCode(currentTab);
}

function renderBars(){
    const maxPx = Math.max(...spacing.map(s=>s.px),1);
    document.getElementById('barChart').innerHTML = spacing.map(s=>{
        const w = Math.max(2, s.px/maxPx*100);
        return `<div class="spacing-item">
            <span class="sp-label">${s.label}</span>
            <div style="flex:1"><div class="sp-bar" style="width:${w}%"></div></div>
            <span class="sp-values">${s.px}px = ${s.val}</span>
        </div>`;
    }).join('');
}

function renderVisual(){
    document.getElementById('visualGrid').innerHTML = spacing.filter(s=>s.px>0&&s.px<=128).map(s=>{
        const size = Math.min(s.px, 100);
        return `<div class="sp-visual-box">
            <div class="sp-square" style="width:${size}px;height:${size}px">${s.px}</div>
            <div class="sp-sq-label">${s.label} (${s.val})</div>
        </div>`;
    }).join('');
}

function showCode(tab, el){
    currentTab = tab;
    if(el){document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));el.classList.add('active')}
    let code = '';
    if(tab==='css'){
        code = ':root {\n';
        spacing.forEach(s=>code+=`  --space-${s.label}: ${s.val};\n`);
        code += '}\n';
    } else if(tab==='tailwind'){
        code = `// tailwind.config.js\nmodule.exports = {\n  theme: {\n    spacing: {\n`;
        spacing.forEach(s=>code+=`      '${s.label}': '${s.val}',\n`);
        code += '    },\n  },\n};';
    } else if(tab==='scss'){
        code = '// Spacing Scale\n';
        spacing.forEach(s=>code+=`$space-${s.label}: ${s.val};\n`);
        code += '\n$spacing: (\n';
        spacing.forEach(s=>code+=`  '${s.label}': $space-${s.label},\n`);
        code += ');\n';
    } else if(tab==='json'){
        const obj = {};
        spacing.forEach(s=>obj[s.label]={value:s.val,px:s.px});
        code = JSON.stringify(obj, null, 2);
    } else if(tab==='figma'){
        code = '// Figma Design Tokens (W3C format)\n';
        const tokens = {spacing:{}};
        spacing.forEach(s=>tokens.spacing[s.label]={$type:'dimension',$value:s.val,description:`${s.px}px`});
        code = JSON.stringify(tokens, null, 2);
    }
    document.getElementById('codeOutput').innerHTML = esc(code) + '<button class="copy-btn" onclick="copyCode()">ë³µì‚¬</button>';
}

function setPreset(name){
    document.querySelectorAll('.preset-btn').forEach(b=>b.classList.remove('active'));
    event.target.classList.add('active');
    const base = document.getElementById('baseUnit');
    const type = document.getElementById('scaleType');
    const custom = document.getElementById('customValues');
    if(name==='4px'){base.value=4;type.value='linear'}
    else if(name==='8px'){base.value=8;type.value='linear'}
    else if(name==='tailwind'){type.value='custom';custom.value='0, 1, 2, 4, 6, 8, 10, 12, 14, 16, 20, 24, 28, 32, 36, 40, 44, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 208, 224, 240, 256, 288, 320, 384'}
    else if(name==='bootstrap'){type.value='custom';custom.value='0, 4, 8, 16, 24, 48'}
    else if(name==='material'){type.value='custom';custom.value='0, 4, 8, 12, 16, 20, 24, 32, 40, 48, 56, 64'}
    else if(name==='fibonacci'){base.value=4;type.value='fibonacci'}
    generate();
}

function copyCode(){const el=document.getElementById('codeOutput');const t=el.textContent.replace('ë³µì‚¬','').replace('ë³µì‚¬ë¨!','').trim();navigator.clipboard.writeText(t).then(()=>{const b=el.querySelector('.copy-btn');b.textContent='ë³µì‚¬ë¨!';setTimeout(()=>b.textContent='ë³µì‚¬',1500)})}
function esc(t){return String(t).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
function toggleTheme(){const h=document.documentElement;const t=h.getAttribute('data-theme')==='dark'?'light':'dark';h.setAttribute('data-theme',t);localStorage.setItem('theme',t)}
document.documentElement.setAttribute('data-theme',localStorage.getItem('theme')||'light');
generate();
</script>
</body>
</html>
