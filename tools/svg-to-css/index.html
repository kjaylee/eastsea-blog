<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SVG to CSS Converter</title>
<style>
:root{--bg:#f5f5f5;--card:#fff;--text:#333;--border:#ddd;--accent:#7c3aed;--accent2:#8b5cf6;--muted:#888;--success:#22c55e;--code-bg:#f0f0f0}
@media(prefers-color-scheme:dark){:root{--bg:#1a1a2e;--card:#16213e;--text:#e0e0e0;--border:#2a2a4a;--accent:#a78bfa;--accent2:#c4b5fd;--muted:#999;--success:#4ade80;--code-bg:#0f0f23}}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding:20px}
.container{max-width:900px;margin:0 auto}
h1{text-align:center;margin-bottom:8px;font-size:1.8rem}
.subtitle{text-align:center;color:var(--muted);margin-bottom:24px;font-size:.95rem}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px;margin-bottom:16px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media(max-width:768px){.grid{grid-template-columns:1fr}}
label{display:block;font-weight:600;margin-bottom:8px;font-size:.9rem}
textarea{width:100%;padding:12px;border:1px solid var(--border);border-radius:8px;font-size:.85rem;background:var(--bg);color:var(--text);font-family:'Courier New',monospace;resize:vertical;min-height:200px}
.preview-area{width:100%;min-height:200px;border:2px dashed var(--border);border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;background:repeating-conic-gradient(var(--border) 0% 25%, transparent 0% 50%) 50%/20px 20px}
.preview-area svg{max-width:100%;max-height:300px}
.output-section{margin-top:16px}
.output-box{background:var(--code-bg);border:1px solid var(--border);border-radius:8px;padding:12px;font-family:'Courier New',monospace;font-size:.8rem;white-space:pre-wrap;word-break:break-all;max-height:200px;overflow-y:auto;position:relative}
.btn{padding:10px 20px;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .2s}
.btn-primary{background:var(--accent);color:#fff}
.btn-primary:hover{background:var(--accent2)}
.btn-sm{padding:6px 14px;font-size:.8rem}
.btn-row{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
.tabs{display:flex;gap:4px;margin-bottom:12px}
.tab{padding:8px 16px;border:1px solid var(--border);border-radius:8px 8px 0 0;cursor:pointer;font-size:.85rem;background:var(--bg);color:var(--muted)}
.tab.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.options{display:flex;gap:16px;flex-wrap:wrap;margin:12px 0}
.options label{display:flex;align-items:center;gap:6px;font-weight:400;cursor:pointer;font-size:.85rem}
.toast{position:fixed;bottom:20px;right:20px;background:var(--success);color:#fff;padding:12px 20px;border-radius:8px;font-weight:600;opacity:0;transition:opacity .3s;pointer-events:none}
.toast.show{opacity:1}
.demo-box{width:100%;height:120px;border:2px solid var(--border);border-radius:8px;margin-top:12px}
.size-info{font-size:.8rem;color:var(--muted);margin-top:8px}
</style>
</head>
<body>
<div class="container">
<h1>ðŸŽ¨ SVG to CSS Converter</h1>
<p class="subtitle">Convert SVG code to CSS background-image (data URI or inline)</p>

<div class="card">
<div class="grid">
<div>
<label>Paste SVG Code</label>
<textarea id="svgInput" placeholder='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <circle cx="50" cy="50" r="40" fill="#7c3aed"/>
</svg>'></textarea>
</div>
<div>
<label>Preview</label>
<div class="preview-area" id="preview"><span style="color:var(--muted)">Paste SVG to preview</span></div>
</div>
</div>

<div class="options">
<label><input type="radio" name="encoding" value="uri" checked> URL-encoded (smaller)</label>
<label><input type="radio" name="encoding" value="base64"> Base64</label>
<label><input type="checkbox" id="optimize" checked> Minify SVG</label>
</div>
</div>

<div class="card">
<div class="tabs">
<div class="tab active" data-tab="bgimage" onclick="switchTab(this)">background-image</div>
<div class="tab" data-tab="bgshort" onclick="switchTab(this)">background (shorthand)</div>
<div class="tab" data-tab="datauri" onclick="switchTab(this)">Data URI only</div>
<div class="tab" data-tab="cssvar" onclick="switchTab(this)">CSS Variable</div>
</div>
<div class="output-box" id="output">/* Paste SVG above to generate CSS */</div>
<div class="size-info" id="sizeInfo"></div>
<div class="btn-row">
<button class="btn btn-primary" onclick="copyOutput()">ðŸ“‹ Copy CSS</button>
<button class="btn btn-sm" onclick="loadExample()">Load Example</button>
</div>

<label style="margin-top:16px">Live Demo</label>
<div class="demo-box" id="demoBox"></div>
</div>
</div>
<div class="toast" id="toast"></div>
<script>
let currentTab='bgimage';

function minifySvg(svg){
  return svg.replace(/<!--.*?-->/gs,'').replace(/\s+/g,' ').replace(/>\s+</g,'><').replace(/\s*\/>/g,'/>').trim();
}

function encodeSvgUri(svg){
  return svg.replace(/"/g,"'").replace(/%/g,'%25').replace(/#/g,'%23').replace(/{/g,'%7B').replace(/}/g,'%7D').replace(/</g,'%3C').replace(/>/g,'%3E').replace(/\s+/g,' ');
}

function convert(){
  let svg=document.getElementById('svgInput').value.trim();
  if(!svg){document.getElementById('output').textContent='/* Paste SVG above to generate CSS */';document.getElementById('demoBox').style='';document.getElementById('sizeInfo').textContent='';return}
  
  if(document.getElementById('optimize').checked)svg=minifySvg(svg);
  
  const encoding=document.querySelector('input[name=encoding]:checked').value;
  let dataUri;
  if(encoding==='base64'){dataUri=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(svg)))}`}
  else{dataUri=`data:image/svg+xml,${encodeSvgUri(svg)}`}
  
  let css;
  switch(currentTab){
    case'bgimage':css=`background-image: url("${dataUri}");\nbackground-repeat: no-repeat;\nbackground-size: contain;\nbackground-position: center;`;break;
    case'bgshort':css=`background: url("${dataUri}") center / contain no-repeat;`;break;
    case'datauri':css=dataUri;break;
    case'cssvar':css=`--icon: url("${dataUri}");\n\n/* Usage: */\nbackground-image: var(--icon);`;break;
  }
  
  document.getElementById('output').textContent=css;
  
  const origSize=new Blob([svg]).size;
  const outSize=new Blob([dataUri]).size;
  document.getElementById('sizeInfo').textContent=`Original SVG: ${origSize}B â†’ Data URI: ${outSize}B (${Math.round(outSize/origSize*100)}%)`;
  
  document.getElementById('demoBox').style.cssText=`background: url("${dataUri}") center / contain no-repeat;`;
  
  // preview
  try{document.getElementById('preview').innerHTML=svg}catch(e){}
}

function switchTab(el){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
  currentTab=el.dataset.tab;
  convert();
}

function copyOutput(){
  const text=document.getElementById('output').textContent;
  if(text.startsWith('/*'))return;
  navigator.clipboard.writeText(text);
  const t=document.getElementById('toast');t.textContent='Copied!';t.classList.add('show');setTimeout(()=>t.classList.remove('show'),1500);
}

function loadExample(){
  document.getElementById('svgInput').value=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#7c3aed"/>
      <stop offset="100%" stop-color="#ec4899"/>
    </linearGradient>
  </defs>
  <rect rx="15" width="100" height="100" fill="url(#g)"/>
  <text x="50" y="58" text-anchor="middle" fill="white" font-size="36" font-family="sans-serif">â˜…</text>
</svg>`;
  convert();
}

document.getElementById('svgInput').addEventListener('input',convert);
document.querySelectorAll('input[name=encoding],#optimize').forEach(el=>el.addEventListener('change',convert));
</script>
</body>
</html>
