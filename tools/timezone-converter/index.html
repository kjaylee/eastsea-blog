<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timezone Converter</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #ffffff; --bg-secondary: #f8f9fa; --bg-tertiary: #e9ecef;
            --text-primary: #212529; --text-secondary: #6c757d;
            --accent: #0ea5e9; --accent-light: #38bdf8;
            --border: #dee2e6; --shadow: rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-primary: #0f0f23; --bg-secondary: #1a1a2e; --bg-tertiary: #16213e;
            --text-primary: #e4e4e7; --text-secondary: #a1a1aa;
            --border: #27272a; --shadow: rgba(0,0,0,0.5);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: var(--bg-primary); color: var(--text-primary);
            padding: 20px; min-height: 100vh; transition: background 0.3s, color 0.3s;
        }
        .container { max-width: 700px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        h1 { font-size: 2rem; color: var(--accent); margin-bottom: 8px; }
        .subtitle { color: var(--text-secondary); font-size: 0.9rem; }
        .theme-toggle {
            position: fixed; top: 20px; right: 20px; width: 44px; height: 44px;
            border-radius: 50%; background: var(--bg-secondary); border: 2px solid var(--border);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem; cursor: pointer; z-index: 1000;
        }
        .card {
            background: var(--bg-secondary); border-radius: 16px; padding: 24px;
            border: 1px solid var(--border); margin-bottom: 20px;
        }
        .input-group { margin-bottom: 16px; }
        label { font-size: 0.85rem; color: var(--text-secondary); display: block; margin-bottom: 4px; }
        input, select {
            width: 100%; padding: 10px 14px; border: 1px solid var(--border); border-radius: 10px;
            background: var(--bg-primary); color: var(--text-primary); font-size: 1rem;
        }
        .row { display: flex; gap: 12px; }
        .row > div { flex: 1; }
        .btn {
            width: 100%; padding: 12px; border: none; border-radius: 10px;
            background: var(--accent); color: white; font-weight: 700;
            cursor: pointer; font-size: 1rem; margin-top: 8px;
        }
        .btn:hover { opacity: 0.85; }
        .tz-list { margin-top: 16px; }
        .tz-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 14px 16px; background: var(--bg-tertiary); border-radius: 10px;
            margin-bottom: 8px; border: 1px solid var(--border);
        }
        .tz-name { font-weight: 600; font-size: 0.95rem; }
        .tz-offset { color: var(--text-secondary); font-size: 0.8rem; }
        .tz-time { font-size: 1.3rem; font-weight: 800; color: var(--accent); font-variant-numeric: tabular-nums; }
        .tz-date { font-size: 0.8rem; color: var(--text-secondary); }
        .now-bar {
            text-align: center; padding: 16px; background: var(--bg-tertiary);
            border-radius: 12px; margin-bottom: 20px; border: 1px solid var(--border);
        }
        .now-time { font-size: 2rem; font-weight: 800; color: var(--accent); font-variant-numeric: tabular-nums; }
        .now-tz { color: var(--text-secondary); font-size: 0.85rem; margin-top: 4px; }
        .remove-btn {
            background: none; border: none; color: var(--text-secondary);
            cursor: pointer; font-size: 1.2rem; padding: 4px 8px;
        }
        .remove-btn:hover { color: #ef4444; }
        @media (max-width: 500px) {
            .row { flex-direction: column; }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">ğŸŒ™</button>
    <div class="container">
        <header>
            <h1>ğŸŒ Timezone Converter</h1>
            <p class="subtitle">ì „ ì„¸ê³„ ì‹œê°„ëŒ€ ë³€í™˜ê¸°</p>
        </header>

        <div class="now-bar">
            <div class="now-time" id="now-time">--:--:--</div>
            <div class="now-tz" id="now-tz"></div>
        </div>

        <div class="card">
            <div class="row">
                <div class="input-group">
                    <label>ì‹œê°„ëŒ€ ì¶”ê°€</label>
                    <select id="tz-select">
                        <option value="America/New_York">ğŸ‡ºğŸ‡¸ ë‰´ìš• (EST/EDT)</option>
                        <option value="America/Los_Angeles">ğŸ‡ºğŸ‡¸ ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤ (PST/PDT)</option>
                        <option value="America/Chicago">ğŸ‡ºğŸ‡¸ ì‹œì¹´ê³  (CST/CDT)</option>
                        <option value="Europe/London">ğŸ‡¬ğŸ‡§ ëŸ°ë˜ (GMT/BST)</option>
                        <option value="Europe/Paris">ğŸ‡«ğŸ‡· íŒŒë¦¬ (CET/CEST)</option>
                        <option value="Europe/Berlin">ğŸ‡©ğŸ‡ª ë² ë¥¼ë¦° (CET/CEST)</option>
                        <option value="Asia/Tokyo">ğŸ‡¯ğŸ‡µ ë„ì¿„ (JST)</option>
                        <option value="Asia/Seoul">ğŸ‡°ğŸ‡· ì„œìš¸ (KST)</option>
                        <option value="Asia/Shanghai">ğŸ‡¨ğŸ‡³ ìƒí•˜ì´ (CST)</option>
                        <option value="Asia/Kolkata">ğŸ‡®ğŸ‡³ ë­„ë°”ì´ (IST)</option>
                        <option value="Asia/Dubai">ğŸ‡¦ğŸ‡ª ë‘ë°”ì´ (GST)</option>
                        <option value="Asia/Singapore">ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´ (SGT)</option>
                        <option value="Australia/Sydney">ğŸ‡¦ğŸ‡º ì‹œë“œë‹ˆ (AEST/AEDT)</option>
                        <option value="Pacific/Auckland">ğŸ‡³ğŸ‡¿ ì˜¤í´ëœë“œ (NZST/NZDT)</option>
                        <option value="America/Sao_Paulo">ğŸ‡§ğŸ‡· ìƒíŒŒìš¸ë£¨ (BRT)</option>
                        <option value="Africa/Cairo">ğŸ‡ªğŸ‡¬ ì¹´ì´ë¡œ (EET)</option>
                        <option value="Pacific/Honolulu">ğŸ‡ºğŸ‡¸ í˜¸ë†€ë£°ë£¨ (HST)</option>
                        <option value="America/Anchorage">ğŸ‡ºğŸ‡¸ ì•µì»¤ë¦¬ì§€ (AKST)</option>
                    </select>
                </div>
            </div>
            <button class="btn" onclick="addTimezone()">+ ì‹œê°„ëŒ€ ì¶”ê°€</button>

            <div class="tz-list" id="tz-list"></div>
        </div>

        <div class="card">
            <label>íŠ¹ì • ì‹œê°„ ë³€í™˜</label>
            <div class="row" style="margin-top:8px">
                <div><input type="datetime-local" id="custom-time"></div>
                <div>
                    <select id="custom-from-tz">
                        <option value="Asia/Seoul">ì„œìš¸ (KST)</option>
                        <option value="America/New_York">ë‰´ìš•</option>
                        <option value="Europe/London">ëŸ°ë˜</option>
                        <option value="Asia/Tokyo">ë„ì¿„</option>
                        <option value="America/Los_Angeles">LA</option>
                    </select>
                </div>
            </div>
            <button class="btn" onclick="convertCustom()">ë³€í™˜</button>
        </div>
    </div>
    <script>
        let zones = JSON.parse(localStorage.getItem('tz-zones') || '["America/New_York","Europe/London","Asia/Tokyo"]');
        const labels = {
            'America/New_York':'ğŸ‡ºğŸ‡¸ ë‰´ìš•','America/Los_Angeles':'ğŸ‡ºğŸ‡¸ LA','America/Chicago':'ğŸ‡ºğŸ‡¸ ì‹œì¹´ê³ ',
            'Europe/London':'ğŸ‡¬ğŸ‡§ ëŸ°ë˜','Europe/Paris':'ğŸ‡«ğŸ‡· íŒŒë¦¬','Europe/Berlin':'ğŸ‡©ğŸ‡ª ë² ë¥¼ë¦°',
            'Asia/Tokyo':'ğŸ‡¯ğŸ‡µ ë„ì¿„','Asia/Seoul':'ğŸ‡°ğŸ‡· ì„œìš¸','Asia/Shanghai':'ğŸ‡¨ğŸ‡³ ìƒí•˜ì´',
            'Asia/Kolkata':'ğŸ‡®ğŸ‡³ ë­„ë°”ì´','Asia/Dubai':'ğŸ‡¦ğŸ‡ª ë‘ë°”ì´','Asia/Singapore':'ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´',
            'Australia/Sydney':'ğŸ‡¦ğŸ‡º ì‹œë“œë‹ˆ','Pacific/Auckland':'ğŸ‡³ğŸ‡¿ ì˜¤í´ëœë“œ',
            'America/Sao_Paulo':'ğŸ‡§ğŸ‡· ìƒíŒŒìš¸ë£¨','Africa/Cairo':'ğŸ‡ªğŸ‡¬ ì¹´ì´ë¡œ',
            'Pacific/Honolulu':'ğŸ‡ºğŸ‡¸ í˜¸ë†€ë£°ë£¨','America/Anchorage':'ğŸ‡ºğŸ‡¸ ì•µì»¤ë¦¬ì§€'
        };

        function initTheme() {
            const s = localStorage.getItem('tz-theme') || 'light';
            document.documentElement.setAttribute('data-theme', s);
            document.getElementById('theme-btn').textContent = s === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
        }
        function toggleTheme() {
            const c = document.documentElement.getAttribute('data-theme') || 'light';
            const n = c === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', n);
            localStorage.setItem('tz-theme', n);
            document.getElementById('theme-btn').textContent = n === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
        }

        function getOffset(tz) {
            const now = new Date();
            const str = now.toLocaleString('en-US', { timeZone: tz, timeZoneName: 'shortOffset' });
            const match = str.match(/GMT([+-]?\d+:?\d*)/);
            return match ? match[1] : '';
        }

        function formatTime(date, tz) {
            return date.toLocaleTimeString('ko-KR', { timeZone: tz, hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
        }
        function formatDate(date, tz) {
            return date.toLocaleDateString('ko-KR', { timeZone: tz, year: 'numeric', month: '2-digit', day: '2-digit', weekday: 'short' });
        }

        function addTimezone() {
            const tz = document.getElementById('tz-select').value;
            if (!zones.includes(tz)) {
                zones.push(tz);
                localStorage.setItem('tz-zones', JSON.stringify(zones));
            }
            render();
        }

        function removeTimezone(tz) {
            zones = zones.filter(z => z !== tz);
            localStorage.setItem('tz-zones', JSON.stringify(zones));
            render();
        }

        function render(customDate) {
            const now = customDate || new Date();
            const list = document.getElementById('tz-list');
            list.innerHTML = zones.map(tz => `
                <div class="tz-item">
                    <div>
                        <div class="tz-name">${labels[tz] || tz}</div>
                        <div class="tz-offset">UTC${getOffset(tz)}</div>
                        <div class="tz-date">${formatDate(now, tz)}</div>
                    </div>
                    <div style="text-align:right;display:flex;align-items:center;gap:8px">
                        <div class="tz-time">${formatTime(now, tz)}</div>
                        <button class="remove-btn" onclick="removeTimezone('${tz}')" title="ì œê±°">Ã—</button>
                    </div>
                </div>
            `).join('');
        }

        function convertCustom() {
            const val = document.getElementById('custom-time').value;
            if (!val) return;
            const fromTz = document.getElementById('custom-from-tz').value;
            const dateStr = new Date(val).toLocaleString('en-US', { timeZone: fromTz });
            const converted = new Date(val);
            render(converted);
        }

        function tick() {
            const now = new Date();
            const localTz = Intl.DateTimeFormat().resolvedOptions().timeZone;
            document.getElementById('now-time').textContent = formatTime(now, localTz);
            document.getElementById('now-tz').textContent = `${localTz} (UTC${getOffset(localTz)})`;
            render();
        }

        // Set default custom time
        const n = new Date();
        n.setMinutes(n.getMinutes() - n.getTimezoneOffset());
        document.getElementById('custom-time').value = n.toISOString().slice(0, 16);

        initTheme();
        tick();
        setInterval(tick, 1000);
    </script>
</body>
</html>
