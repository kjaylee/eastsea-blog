<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë¬¼ ì„­ì·¨ëŸ‰ ê³„ì‚°ê¸° | East Sea Tools</title>
<meta name="description" content="í•˜ë£¨ ê¶Œì¥ ë¬¼ ì„­ì·¨ëŸ‰ì„ ê³„ì‚°í•˜ê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ê¸°ë¡í•˜ì„¸ìš”. ì²´ì¤‘, í™œë™ëŸ‰ ê¸°ë°˜ ë§ì¶¤ ì¶”ì²œ.">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#4F46E5;--primary-light:#6366F1;--bg:#f8fafc;--surface:#fff;--text:#1e293b;--text-secondary:#64748b;--border:#e2e8f0;--shadow:0 1px 3px rgba(0,0,0,.1);--radius:12px;--water:#3b82f6}
@media(prefers-color-scheme:dark){:root{--bg:#0f172a;--surface:#1e293b;--text:#f1f5f9;--text-secondary:#94a3b8;--border:#334155;--shadow:0 1px 3px rgba(0,0,0,.3)}}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px}
.container{max-width:500px;width:100%}
h1{font-size:1.8rem;text-align:center;margin:20px 0 8px;color:var(--water)}
.desc{text-align:center;color:var(--text-secondary);margin-bottom:24px;font-size:.95rem}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:16px;box-shadow:var(--shadow)}
label{display:block;font-weight:600;margin-bottom:6px;font-size:.9rem}
input,select{width:100%;padding:12px;border:1px solid var(--border);border-radius:8px;font-size:1rem;background:var(--bg);color:var(--text);margin-bottom:16px}
input:focus,select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(79,70,229,.15)}
.btn{width:100%;padding:14px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1.05rem;font-weight:600;cursor:pointer;transition:background .2s}
.btn:hover{background:var(--primary-light)}
.water-display{text-align:center;padding:20px 0}
.water-circle{width:200px;height:200px;border-radius:50%;margin:0 auto 16px;position:relative;background:var(--bg);border:4px solid var(--border);overflow:hidden}
.water-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,#3b82f6,#60a5fa);transition:height .5s ease;border-radius:0 0 50% 50%/0 0 20% 20%}
.water-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;font-size:1.4rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.water-percent{font-size:.9rem;color:var(--text-secondary)}
.goal-text{font-size:1.1rem;font-weight:600;color:var(--water);margin-bottom:4px}
.cups{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:16px 0}
.cup{text-align:center;padding:12px 4px;background:var(--bg);border:2px solid var(--border);border-radius:var(--radius);cursor:pointer;transition:all .2s;font-size:.85rem}
.cup:hover{border-color:var(--water);transform:scale(1.05)}
.cup.filled{background:rgba(59,130,246,.1);border-color:var(--water)}
.cup-icon{font-size:1.5rem;display:block;margin-bottom:4px}
.quick-add{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:12px 0}
.quick-btn{padding:8px 16px;background:var(--water);color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:.85rem;font-weight:600;transition:opacity .2s}
.quick-btn:hover{opacity:.8}
.history{font-size:.85rem;color:var(--text-secondary);max-height:150px;overflow-y:auto;margin-top:12px;padding:8px;background:var(--bg);border-radius:8px}
.history-item{padding:4px 0;border-bottom:1px solid var(--border)}
.reset-row{text-align:center;margin-top:8px}
.reset-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:.8rem;text-decoration:underline}
footer{text-align:center;padding:32px 0 16px;color:var(--text-secondary);font-size:.8rem}
.recommendation{background:rgba(59,130,246,.05);border:1px solid rgba(59,130,246,.2);border-radius:8px;padding:12px;margin-top:12px;font-size:.85rem;line-height:1.5}
</style>
</head>
<body>
<div class="container">
<h1>ğŸ’§ ë¬¼ ì„­ì·¨ëŸ‰ ê³„ì‚°ê¸°</h1>
<p class="desc">í•˜ë£¨ ê¶Œì¥ ë¬¼ ì„­ì·¨ëŸ‰ì„ ê³„ì‚°í•˜ê³  ì„­ì·¨ë¥¼ ê¸°ë¡í•˜ì„¸ìš”.</p>

<div class="card">
<label for="weight">ì²´ì¤‘ (kg)</label>
<input type="number" id="weight" placeholder="ì˜ˆ: 65" min="20" max="200" value="65">

<label for="activity">í™œë™ëŸ‰</label>
<select id="activity">
<option value="1.0">ì ìŒ (ì£¼ë¡œ ì•‰ì•„ì„œ ìƒí™œ)</option>
<option value="1.2" selected>ë³´í†µ (ê°€ë²¼ìš´ ìš´ë™)</option>
<option value="1.4">ë§ìŒ (ê·œì¹™ì  ìš´ë™)</option>
<option value="1.6">ë§¤ìš° ë§ìŒ (ê³ ê°•ë„ ìš´ë™)</option>
</select>

<label for="weather">ë‚ ì”¨/í™˜ê²½</label>
<select id="weather">
<option value="0">ë³´í†µ</option>
<option value="300">ë”ìš´ ë‚ ì”¨ (+300ml)</option>
<option value="500">ë§¤ìš° ë”ìš´ ë‚ ì”¨ (+500ml)</option>
<option value="200">ê±´ì¡°í•œ ì‹¤ë‚´ (+200ml)</option>
</select>

<button class="btn" onclick="calcGoal()">ğŸ’§ ê¶Œì¥ëŸ‰ ê³„ì‚°</button>
</div>

<div class="card" id="trackerCard" style="display:none">
<div class="water-display">
<div class="goal-text" id="goalText"></div>
<div class="water-circle">
<div class="water-fill" id="waterFill"></div>
<div class="water-text" id="waterText">0ml</div>
</div>
<div class="water-percent" id="waterPercent">0% ë‹¬ì„±</div>
</div>

<div class="quick-add">
<button class="quick-btn" onclick="addWater(150)">ğŸ¥¤ 150ml</button>
<button class="quick-btn" onclick="addWater(200)">ğŸ¥› 200ml</button>
<button class="quick-btn" onclick="addWater(250)">â˜• 250ml</button>
<button class="quick-btn" onclick="addWater(350)">ğŸ¶ 350ml</button>
<button class="quick-btn" onclick="addWater(500)">ğŸ§´ 500ml</button>
</div>

<div class="cups" id="cups"></div>

<div class="history" id="history"></div>
<div class="reset-row">
<button class="reset-btn" onclick="resetToday()">ì˜¤ëŠ˜ ê¸°ë¡ ì´ˆê¸°í™”</button>
</div>

<div class="recommendation">
<strong>ğŸ’¡ ë¬¼ ë§ˆì‹œê¸° íŒ</strong><br>
â€¢ ì•„ì¹¨ ê¸°ìƒ í›„ í•œ ì” (200ml)<br>
â€¢ ì‹ì‚¬ 30ë¶„ ì „ì— í•œ ì”<br>
â€¢ ìš´ë™ ì „í›„ë¡œ í•œ ì”ì”©<br>
â€¢ í•œ ë²ˆì— ë²Œì»¥ ë§ˆì‹œì§€ ë§ê³  ì¡°ê¸ˆì”© ìì£¼
</div>
</div>
</div>
<footer>Â© 2026 East Sea</footer>

<script>
let goal=0,current=0,logs=[];
const STORAGE='water-intake-data';

function calcGoal(){
const weight=+document.getElementById('weight').value||65;
const activity=+document.getElementById('activity').value;
const weather=+document.getElementById('weather').value;
goal=Math.round(weight*30*activity+weather);
document.getElementById('goalText').textContent=`ì˜¤ëŠ˜ ëª©í‘œ: ${goal.toLocaleString()}ml`;
document.getElementById('trackerCard').style.display='block';

// Load today's data
loadToday();
renderCups();
updateDisplay();
}

function addWater(ml){
current+=ml;
const now=new Date();
logs.push({ml,time:now.getHours()+':'+String(now.getMinutes()).padStart(2,'0')});
saveToday();
updateDisplay();
renderCups();
}

function updateDisplay(){
const pct=Math.min(100,Math.round(current/goal*100));
document.getElementById('waterFill').style.height=pct+'%';
document.getElementById('waterText').textContent=current+'ml';
document.getElementById('waterPercent').textContent=pct+'% ë‹¬ì„±'+(pct>=100?' ğŸ‰':'');

// History
const histEl=document.getElementById('history');
if(logs.length){
histEl.innerHTML='<strong>ì˜¤ëŠ˜ ê¸°ë¡</strong>'+logs.map((l,i)=>
`<div class="history-item">${l.time} â€” ${l.ml}ml</div>`
).join('');
}else{
histEl.innerHTML='<em>ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</em>';
}
}

function renderCups(){
const cupSize=250;
const total=Math.ceil(goal/cupSize);
const filled=Math.floor(current/cupSize);
const el=document.getElementById('cups');
el.innerHTML='';
for(let i=0;i<Math.min(total,12);i++){
const div=document.createElement('div');
div.className='cup'+(i<filled?' filled':'');
div.innerHTML=`<span class="cup-icon">${i<filled?'ğŸ’§':'ğŸ¥›'}</span>${cupSize}ml`;
el.appendChild(div);
}
}

function todayKey(){
const d=new Date();
return d.getFullYear()+'-'+(d.getMonth()+1)+'-'+d.getDate();
}

function saveToday(){
const data={current,logs,goal,date:todayKey()};
localStorage.setItem(STORAGE,JSON.stringify(data));
}

function loadToday(){
try{
const data=JSON.parse(localStorage.getItem(STORAGE));
if(data&&data.date===todayKey()){
current=data.current||0;
logs=data.logs||[];
if(data.goal)goal=data.goal;
}else{current=0;logs=[];}
}catch{current=0;logs=[];}
}

function resetToday(){
if(!confirm('ì˜¤ëŠ˜ ê¸°ë¡ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?'))return;
current=0;logs=[];
saveToday();
updateDisplay();
renderCups();
}
</script>
</body>
</html>
